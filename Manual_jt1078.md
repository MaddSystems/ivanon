**Content**

Content
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\....
1 1. Range
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\.....
3 2. Normative references
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\....
3 3. Terms, definitions and abbreviations
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...
3 3.1 Terms, definitions
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\....
3 3.2 Abbreviations
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\....
4 4. Protocol basis between video terminal and video platform
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\.....
4 4.1 Basic Agreement
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...4
4. 2 Real-time audio and video transmission channel convention
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\.....
5 4.3 Classification of audio and video communication
packets\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\....5
5. Communication Protocol Between Video Terminal and Video Platform
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\... 5 5.1
Protocol Instruction Set
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\.....
5 5. 2 Inheritance Command Set
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\....5
5. 3 Parameter Setting Instructions
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\....6
5. 4 Video alarm instructions
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\....15
5. 5 Real-time audio and video transmission instructions
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...17
5. 6 Historical audio and video query, playback and download
instructions
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\... 21 5. 7 PTZ
Control Instructions
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...
27 5.8 Terminal sleep wake-up command
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\.....
29 6. Stream communication between audio and video streaming server and
client-side playback software\....30 6.1 Audio and video stream and
transparent data encapsulation format
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\....30
6. 2 Audio and video streaming request URL command format
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\.....
30 7. Basics of Communication Protocols Between Video Platforms
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\.....
31 8. Communication protocol process between video platforms
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\.....
31 8. 1 Time-limited password reporting and request business class
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...
31 8. 2 Real-time audio and video services
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...
32 8. 3 Remote video retrieval business class
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...
32 8. 4 Remote video download
business\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...33
8. 5 Remote video playback business
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\....
33 9. Definition of Communication Protocol Constants Between Video
Platforms \...\...\...\...\...\...\...\...\...\...\...\...\....34 9.1
Business data type identifier
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\.....
34 9. 2 Sub-Business Type Identifier
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...
35 9.3 Video Alarm Type Coding
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\....
38 10. Communication protocol data body format between video platforms
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\.... 38
10.1 Time-limited password reporting and request business class
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\.....
38

10\. 2 Real-time audio and video services
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\.....40
10. 3 Remote video retrieval
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\.....43
10. 4 Remote video playback
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\....47
10. 5 Remote video download
\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\...\.....
52

**1. Range**

This standard specifies the protocol basis and communication protocol
between the vehicle video terminal and the video platform, the code
stream communication between the audio and video stream server and the
client player software, and the communication protocol basis between the
video platforms in the satellite positioning system of the road
transportation vehicle. Communication protocol process, constant
definition and protocol data body format.

This standard applies to the transmission of audio and video data
between the on-board video terminal of the satellite positioning system
of the road transport vehicle and the enterprise video monitoring
platform, as well as the exchange and sharing of audio and video
resources between different video platforms.

**2. Normative references**

The following documents are essential for the application of this
document. For dated references, only the dated version applies to this
document. For undated references, the latest edition (including all
amendments) applies to this document.

JT/ T 808---2011Terminal Communication Protocol and Data Format of
Satellite Positioning System for Road Transport Vehicles

JT/ T 809---2011Data Exchange of Satellite Positioning System Platform
for Road Transport Vehicles

JT / T 1076---2016 Technical requirements for on-board video terminals
of satellite positioning systems for road transport vehicles

JT/ T 415---2006 Cataloging and coding rules for road transport
e-government platform IETF RFC 3550 RTP (Real-time Transport Protocol)\
IETF RFC 2854 ( The Text / Html Media Type)

**3. Terms, definitions and abbreviations 3.1 Terms, definitions**

The following terms and definitions apply to this document.

**3. 1. 1 Code rate**

The number of data bits transmitted per unit time during data
transmission, the common unit is kilobits per second (kbps).

**3. 1. 2 Frame rate**

Indicates the number of times that the graphics processor can update the
field per second, and is used to

measure the number of displayed frames. The measurement unit is the
number of displayed frames per second (Frame per Second, FPS).

**3.2 Abbreviations**

The following abbreviations apply to this document. AAC: ( Advanced
Audio Coding)\
MPEG: ( Moving Pictures Experts Group) RTP: ( Real-time Transport
Protocol)

TCP: ( Transmission Control Protocol)\
UDP: ( User Datagram Protocol)\
URL: ( Uniform Resource Locator)\
UTF-8: (8-bit Unicode Transformation Format) FTP: ( File Transfer
Protocol)

**4. Protocol basis between video terminal and video platform 4.1 Basic
Agreement**

The communication method, data type, transmission rules and message
composition of the protocol are in accordance with the requirements of
Chapter 4 in JT/T 808-2011.

The communication connection mode of signaling data messages in the
protocol is in accordance with the requirements of Chapter 5 in JT/T
808-2011.

The message processing mechanism of signaling data packets in the
protocol is in accordance with the requirements of Chapter 6 in JT/T
808-2011.

The encryption mechanism of signaling data messages in the protocol is
in accordance with the requirements of Chapter 7 in JT/T 808-2011.

In the agreement, the communication parties between the platform and the
terminal shall meet the following requirements:

\-\-\-\--All messages shall be answered unless expressly agreed;\
\-\-\-\--If the dedicated reply message is not specified, the general
reply should be used;

\-\-\-\--For sub-packaged messages, the responder shall respond to each
sub-package message on a per-package basis。

**4. 2 Real-time audio and video transmission channel convention**

One channel of real-time audio and video transmission can transmit one
channel of video information or one channel of audio information, as
well as one channel of video information and one channel of audio
information. There are two types of real-time audio and video
transmission channel conventions:

In TCP mode, each TCP connection can carry multiple audio and video
channels. If there is no data transmission within the set timeout
period, both the terminal and the monitoring center can actively close
the TCP connection for audio and video data transmission.

When using UDP, each UDP port can carry multiple audio and video
channels.

**4.3 Classification of audio and video communication packets**

Audio and video data packets are divided into the following two
categories:

Signaling data message: The data format shall comply with the provisions
of JT/T 808 2011, and new protocol commands and data formats shall be
added on the basis of its protocol format. Message communication should
use the established link between the vehicle video terminal and the
enterprise video surveillance platform for transmitting positioning
information, and no new link should be created.

Stream data message: used for network real-time audio and video
transmission, network video playback, voice dialogue, voice monitoring,
voice broadcast, etc. Message communication should create a new link
instead of using a link that transmits positioning information.

**5. Communication Protocol Between Video Terminal and Video Platform
5.1 Protocol Instruction Set**

See Appendix A for the command message comparison table between the
video terminal and the video platform.

**5. 2 Inheritance Command Set**

Inherit the use of other instructions in JT/T 808-2011 except that the
message ID is 0x8804 (recording start command). In addition, in JT/T
808-2011, there are five items in total: 0x0800 (multimedia event
message upload), 0x0801 (multimedia data upload), 0x8802 (stored
multimedia data retrieval), 0x0802 (stored multimedia data retrieval
response), 0x8803 (stored multimedia data upload) The multimedia type
field in the instruction shall only contain the picture type in this
standard, and the data of the audio and video type shall be transmitted
according to the requirements of 5.4 and 5.5.

**5. 3 Parameter Setting Instructions\
5. 3. 1 Terminal audio and video parameter settings**

The terminal audio and video parameter setting message adopts the 0x8103
message defined in 8.8 of JT/T 808-2011, and adds the following audio
and video parameter settings, see Table 1.

**Table1 Audio and video settings parameter table**

+:------------------------+:------------------------+:----------------------------+
| **Parameter ID Data Type Description& Request**                                 |
+-------------------------+-------------------------+-----------------------------+
| 75                      |                         | Audio and video parameter   |
|                         |                         | settings, see Table 2 for   |
|                         |                         | description                 |
+-------------------------+-------------------------+-----------------------------+
| 76                      |                         | Audio and video channel     |
|                         |                         | list settings, see Table 3  |
|                         |                         | for description             |
+-------------------------+-------------------------+-----------------------------+
| 77                      |                         | Individual video channel    |
|                         |                         | parameter settings, see     |
|                         |                         | Table 5 for description     |
+-------------------------+-------------------------+-----------------------------+
| 79                      |                         | Special alarm recording     |
|                         |                         | parameter settings, see     |
|                         |                         | Table 7 for description     |
+-------------------------+-------------------------+-----------------------------+
| 7A                      | DWORD                   | Video related alarm mask    |
|                         |                         | word, and the video report  |
|                         |                         | in Table 13\                |
|                         |                         | The alarm flag bit is       |
|                         |                         | defined correspondingly, if |
|                         |                         | the corresponding bit is 1, |
|                         |                         | the corresponding type of   |
|                         |                         | alarm is masked             |
+-------------------------+-------------------------+-----------------------------+
| 7B                      |                         | Image analysis alarm        |
|                         |                         | parameter settings, see     |
|                         |                         | Table 8 for description     |
+-------------------------+-------------------------+-----------------------------+
| 7C                      |                         | Terminal sleep and wake-up  |
|                         |                         | mode settings, see Table 9  |
|                         |                         | for description             |
+-------------------------+-------------------------+-----------------------------+

**Table 2 Definition and description of audio and video parameters**

+:-------------------+:--------------------+:-------------------+:------------------------+
| **Start Byte Field Type of Data Description**                                           |
+--------------------+---------------------+--------------------+-------------------------+
| 0                  | Live Streaming      | BYTE               | 0 :C B R ;\             |
|                    | Encoding Mode       |                    | 1 :V B R ;\             |
|                    |                     |                    | 2 :A B R ;\             |
|                    |                     |                    | 100 \~127:customize     |
+--------------------+---------------------+--------------------+-------------------------+

+---------:+:--------------------+:---------+:------------------------+
| 1        | Live Streaming      | BYTE     | 0:QCIF;\                |
|          | Resolution          |          | 1:CIF;\                 |
|          |                     |          | 2:WCIF;\                |
|          |                     |          | 3:D1;\                  |
|          |                     |          | 4:WD1;\                 |
|          |                     |          | 5:720P;\                |
|          |                     |          | 6:1 080P;\              |
|          |                     |          | 100 \~ 127:customize    |
+----------+---------------------+----------+-------------------------+
| 2        | Live Streaming      | WORD     | Range (1 \~ 1 000)      |
|          | Keyframe Interval   |          | frame                   |
+----------+---------------------+----------+-------------------------+
| 4        | Live Streaming      | BYTE     | Range(1 \~ 120) Frame/  |
|          | Target Frame Rate   |          | s                       |
+----------+---------------------+----------+-------------------------+
| 5        | Live Streaming      | DWORD    | in kilobits per second( |
|          | Target Bit Rate     |          | kbps)                   |
+----------+---------------------+----------+-------------------------+
| 9        | Store stream        | BYTE     | 0 :C B R ;\             |
|          | encoding mode       |          | 1 :V B R ;\             |
|          |                     |          | 2 :A B R ;\             |
|          |                     |          | 100 \~127:customize     |
+----------+---------------------+----------+-------------------------+
| 10       | Save Stream         | BYTE     | 0 :Q C I F ; 1 :C I F   |
|          | Resolution          |          | ;\                      |
|          |                     |          | 2 :W C I F ; 3 :D 1 ;   |
|          |                     |          |                         |
|          |                     |          | 4 :W D 1 ; 5 :7 2 0 P ; |
|          |                     |          |                         |
|          |                     |          | 6:1 080P;\              |
|          |                     |          | 100 \~127:custom        |
+----------+---------------------+----------+-------------------------+
| 11       | Store stream        | WORD     | Range(1 \~ 1 000) Frame |
|          | keyframe interval   |          |                         |
+----------+---------------------+----------+-------------------------+
| 13       | Store stream target | BYTE     | Range(1 \~ 120) Frame/  |
|          | frame rate          |          | s                       |
+----------+---------------------+----------+-------------------------+
| 14       | Store stream target | DWORD    | In kilobits per second( |
|          | bit rate            |          | kbps)                   |
+----------+---------------------+----------+-------------------------+

+---------:+:--------------------+:---------+:------------------------+
| 18       | OSD Subtitle        | WORD     | Bit wise setting: 0     |
|          | overlay settings    |          | means no overlay, 1     |
|          |                     |          | means overlay;          |
|          |                     |          |                         |
|          |                     |          | bit0:Date & time;       |
|          |                     |          | bit1:License\           |
|          |                     |          | plate number;           |
|          |                     |          | bit2:logical channel    |
|          |                     |          | number;\                |
|          |                     |          | bit3:latitude and       |
|          |                     |          | longitude; bit4:driving |
|          |                     |          | record speed;           |
|          |                     |          | bit5:satellite          |
|          |                     |          | positioning speed;      |
|          |                     |          | bit6:Continuous driving |
|          |                     |          | time; bit7 \~           |
|          |                     |          | bit10:reserve;\         |
|          |                     |          | bit11 \~                |
|          |                     |          | bit15:Customize         |
+----------+---------------------+----------+-------------------------+
| 20       | Whether to enable   | BYTE     | 0:Not enable ;1:enabled |
|          | audio output        |          |                         |
+----------+---------------------+----------+-------------------------+

**Table 3 Audio and video channel list**

+:-------------------+:--------------------+:-------------------+:------------------------+
| **Start Byte Field Type of Data Description**                                           |
+--------------------+---------------------+--------------------+-------------------------+
| 0                  | Total number of     | BYTE               | denoted by l            |
|                    | audio and video     |                    |                         |
|                    | channels            |                    |                         |
+--------------------+---------------------+--------------------+-------------------------+
| 1                  | Total number of     | BYTE               | denoted by M            |
|                    | audio channels      |                    |                         |
+--------------------+---------------------+--------------------+-------------------------+
| 2                  | Total number of     | BYTE               | denoted by N            |
|                    | video channels      |                    |                         |
+--------------------+---------------------+--------------------+-------------------------+
| 3                  | Total number of     | \[4 × BYTE+ n)\]   | See table 4             |
|                    | audio channels      | (l+m               |                         |
+--------------------+---------------------+--------------------+-------------------------+

**Table 4 Audio and video channel comparison table**

+:-------------------+:--------------------+:-------------------+:------------------------+
| **Start Byte Field Type of Data Description**                                           |
+--------------------+---------------------+--------------------+-------------------------+
| 0                  | physical channel    | BYTE               | from 1                  |
|                    | number              |                    |                         |
+--------------------+---------------------+--------------------+-------------------------+
| 1                  | logical channel     | BYTE               | According to Table 2 in |
|                    | number              |                    | JT/T 1076- 2016         |
+--------------------+---------------------+--------------------+-------------------------+
| 2                  | Channel Type        | BYTE               | 0:Audio and video;      |
|                    |                     |                    | 1:Audio; 2:Video        |
+--------------------+---------------------+--------------------+-------------------------+
| 3                  | Whether to connect  | BYTE               | This field is valid     |
|                    | the Cloud Server    |                    | when the channel type   |
|                    |                     |                    | is 0 and 2; 0: not      |
|                    |                     |                    | connected; 1: connected |
+--------------------+---------------------+--------------------+-------------------------+

**Table 5 Definition and description of individual channel video
parameters**

+:-------------------+:--------------------+:-------------------+:------------------------+
| **Start Byte Field Type of Data Description**                                           |
+--------------------+---------------------+--------------------+-------------------------+
| 0                  | The number of       | BYTE               | denoted by n            |
|                    | channels for which  |                    |                         |
|                    | video parameters    |                    |                         |
|                    | need to be set      |                    |                         |
|                    | individually        |                    |                         |
+--------------------+---------------------+--------------------+-------------------------+
| 1                  | List of individual  | BYTE\[21 × n\]     | See table 6             |
|                    | channel video       |                    |                         |
|                    | parameter settings  |                    |                         |
+--------------------+---------------------+--------------------+-------------------------+

**Table 6 Individual channel video parameter settings**

+:-------------------+:--------------------+:-------------------+:------------------------+
| **Start Byte Field Type of Data Description**                                           |
+--------------------+---------------------+--------------------+-------------------------+
| 0                  | logical channel     | BYTE               | 按照 JT / T 1076---2016 |
|                    | number              |                    | 中的表 2                |
+--------------------+---------------------+--------------------+-------------------------+
| 1                  | Live Streaming      | BYTE               | 0 :C B R ;\             |
|                    | Encoding Mode       |                    | 1 :V B R ;\             |
|                    |                     |                    | 2 :A B R ;\             |
|                    |                     |                    | 100 \~127:Customize     |
+--------------------+---------------------+--------------------+-------------------------+
| 2                  | Live Streaming      | BYTE               | 0 :Q C I F ; 1 :C I F   |
|                    | Resolution          |                    | ;\                      |
|                    |                     |                    | 2 :W C I F ; 3 :D 1 ;   |
|                    |                     |                    |                         |
|                    |                     |                    | 4 :W D 1 ; 5 :7 2 0 P ; |
|                    |                     |                    |                         |
|                    |                     |                    | 6:1 080P;\              |
|                    |                     |                    | 100 \~127:Customize     |
+--------------------+---------------------+--------------------+-------------------------+
| 3                  | Live Streaming      | WORD               | Range(1 \~ 1 000) Frame |
|                    | Keyframe Interval   |                    |                         |
+--------------------+---------------------+--------------------+-------------------------+
| 5                  | Live Streaming      | BYTE               | Range(1 \~ 120) Frame/  |
|                    | Target Frame Rate   |                    | s                       |
+--------------------+---------------------+--------------------+-------------------------+
| 6                  | Live Streaming      | DWORD              | in kilobits per second( |
|                    | Target Bit Rate     |                    | kbps)                   |
+--------------------+---------------------+--------------------+-------------------------+
| 10                 | Store stream        | BYTE               | 0 :C B R ;\             |
|                    | encoding mode       |                    | 1 :V B R ;\             |
|                    |                     |                    | 2 :A B R ;\             |
|                    |                     |                    | 100 \~127:Customize     |
+--------------------+---------------------+--------------------+-------------------------+

+---------:+:--------------------+:---------+:------------------------+
| 11       | Save Stream         | BYTE     | 0 :Q C I F ; 1 :C I F   |
|          | Resolution          |          | ;\                      |
|          |                     |          | 2 :W C I F ; 3 :D 1 ;   |
|          |                     |          |                         |
|          |                     |          | 4 :W D 1 ; 5 :7 2 0 P ; |
|          |                     |          |                         |
|          |                     |          | 6:1 080P;\              |
|          |                     |          | 100 \~127:Customize     |
+----------+---------------------+----------+-------------------------+
| 12       | Store stream        | WORD     | Range(1 \~ 1 000) Frame |
|          | keyframe interval   |          |                         |
+----------+---------------------+----------+-------------------------+
| 14       | Store stream target | BYTE     | Range (1 \~ 120) Frame/ |
|          | frame rate          |          | s                       |
+----------+---------------------+----------+-------------------------+
| 15       | Store stream target | DWORD    | in kilobits per second( |
|          | bit rate            |          | kbps)                   |
+----------+---------------------+----------+-------------------------+
| 19       | OSD Subtitle        | WORD     | Bitwise setting: 0      |
|          | overlay settings    |          | means no overlay, 1     |
|          |                     |          | means overlay;          |
|          |                     |          |                         |
|          |                     |          | bit0:Date & time;       |
|          |                     |          | bit1:License\           |
|          |                     |          | plate number;           |
|          |                     |          | bit2:logical channel    |
|          |                     |          | number;\                |
|          |                     |          | bit3:latitude and       |
|          |                     |          | longitude; bit4:driving |
|          |                     |          | record speed;           |
|          |                     |          | bit5:satellite          |
|          |                     |          | positioning speed;      |
|          |                     |          | bit6:Continuous driving |
|          |                     |          | time;                   |
|          |                     |          |                         |
|          |                     |          | bit7 \~ bit10:reserve;  |
|          |                     |          |                         |
|          |                     |          | bit11 \~ bit15:         |
|          |                     |          | Customize               |
+----------+---------------------+----------+-------------------------+

**Table 7 Definition and description of special alarm recording
parameters**

+:-------------------+:--------------------+:-------------------+:------------------------+
| **Start Byte Field Type of Data Description**                                           |
+--------------------+---------------------+--------------------+-------------------------+
| 0                  | Special alarm       | BYTE               | The percentage of the   |
|                    | recording storage   |                    | storage threshold of    |
|                    | threshold           |                    | the main memory         |
|                    |                     |                    | occupied by special     |
|                    |                     |                    | alarm recordings,       |
|                    |                     |                    | ranging from 1 to 99,   |
|                    |                     |                    | the default value is 20 |
+--------------------+---------------------+--------------------+-------------------------+
| 1                  | Special alarm       | BYTE               | The maximum duration of |
|                    | recording continue  |                    | special alarm           |
|                    | threshold           |                    | recording, the unit is  |
|                    |                     |                    | minutes (min), the      |
|                    |                     |                    | default value is 5      |
+--------------------+---------------------+--------------------+-------------------------+

  ----------- ---------------------- ----------- --------------------------
            2 Special alarm          BYTE        The recording time marked
              identification start               before the special alarm
              time                               occurs, the unit is
                                                 minutes (min), the default
                                                 value is 1

  ----------- ---------------------- ----------- --------------------------

**Table 8 Definition and description of video analysis alarm
parameters**

+:-------------------+:--------------------+:-------------------+:------------------------+
| **Start Byte Field Type of Data Description**                                           |
+--------------------+---------------------+--------------------+-------------------------+
| 0                  | Vehicle occupancy   | BYTE               | The number of           |
|                    |                     |                    | passengers in the       |
|                    |                     |                    | passenger vehicle is    |
|                    |                     |                    | approved, and an alarm  |
|                    |                     |                    | is generated when the   |
|                    |                     |                    | video analysis result   |
|                    |                     |                    | exceeds the number      |
+--------------------+---------------------+--------------------+-------------------------+
| 1                  | Fatigue level       | BYTE               | Video analysis of       |
|                    | threshold           |                    | fatigue driving alarm   |
|                    |                     |                    | threshold, when it      |
|                    |                     |                    | exceeds the alarm       |
|                    |                     |                    | threshold, an alarm     |
|                    |                     |                    | will be generated       |
+--------------------+---------------------+--------------------+-------------------------+

**Table9 Terminal sleep wake-up mode setting data format**

+:-------------------+:--------------------+:-------------------+:------------------------+
| **Start Byte Field Type of Data Description**                                           |
+--------------------+---------------------+--------------------+-------------------------+
| 0                  | Sleep wake mode     | BYTE               | Bitwise setting: 0      |
|                    |                     |                    | means not set, 1 means  |
|                    |                     |                    | set;\                   |
|                    |                     |                    | bit0: conditional       |
|                    |                     |                    | wake-up;\               |
|                    |                     |                    | bit1: timed wake-up;    |
|                    |                     |                    |                         |
|                    |                     |                    | bit2: manual wake-up    |
+--------------------+---------------------+--------------------+-------------------------+
| 1                  | Wake Condition Type | BYTE               | This field is valid     |
|                    |                     |                    | when bit 0 is 1 in      |
|                    |                     |                    | sleep wake-up mode,     |
|                    |                     |                    | otherwise it is set to  |
|                    |                     |                    | 0;\                     |
|                    |                     |                    | Bit-wise setting: 0     |
|                    |                     |                    | means not set, 1 means  |
|                    |                     |                    | set;                    |
|                    |                     |                    |                         |
|                    |                     |                    | bit0: emergency alarm;\ |
|                    |                     |                    | bit1: Collision         |
|                    |                     |                    | rollover alarm; bit2:   |
|                    |                     |                    | Vehicle door open       |
+--------------------+---------------------+--------------------+-------------------------+

+---------:+:--------------------+:-----------+:------------------------+
| 2        | Timed wake-up day   | BYTE       | Bitwise setting: 0      |
|          | setting             |            | means not set, 1 means  |
|          |                     |            | set;\                   |
|          |                     |            | bit0: Monday;\          |
|          |                     |            | bit1: Tuesday;          |
|          |                     |            |                         |
|          |                     |            | bit2: Wednesday; bit3:  |
|          |                     |            | Thursday; bit4: Friday; |
|          |                     |            | bit5: Saturday; bit6:   |
|          |                     |            | Sunday                  |
+----------+---------------------+------------+-------------------------+
| 3        | List of daily       | BYTE\[17\] | See Table 10, the time  |
|          | wake-up parameters  |            | periods should not      |
|          |                     |            | overlap                 |
+----------+---------------------+------------+-------------------------+

**Table 10 Day wakeup parameter definition**

+:-------------------+:--------------------+:-------------------+:------------------------+
| **Start Byte Field Type of Data Description**                                           |
+--------------------+---------------------+--------------------+-------------------------+
| 0                  | Timed wake-up       | BYTE               | BYTE bit-wise setting:  |
|                    | enable flag         |                    | 0 means not set, 1      |
|                    |                     |                    | means set; bit0: time   |
|                    |                     |                    | period 1 wake-up time   |
|                    |                     |                    | enable;\                |
|                    |                     |                    | bit1: time period 2     |
|                    |                     |                    | wake-up time enable;    |
|                    |                     |                    |                         |
|                    |                     |                    | bit2: time period 3     |
|                    |                     |                    | wake-up time enable;\   |
|                    |                     |                    | bit3: time period 4     |
|                    |                     |                    | wake-up time enable     |
+--------------------+---------------------+--------------------+-------------------------+
| 1                  | Timed wake-up       | BCD\[2\]           | HHMM，Value range 00:00 |
|                    | enable flag         |                    | \~ 23:59                |
+--------------------+---------------------+--------------------+-------------------------+
| 3                  | Time period 1       | BCD\[2\]           | HHMM，Value range 00:00 |
|                    | closing time        |                    | \~ 23:59                |
+--------------------+---------------------+--------------------+-------------------------+
| 5                  | Time period 1       | BCD\[2\]           | HHMM，Value range 00:00 |
|                    | wake-up time        |                    | \~ 23:59                |
+--------------------+---------------------+--------------------+-------------------------+
| 7                  | Time period 2       | BCD\[2\]           | HHMM，Value range 00:00 |
|                    | closing time        |                    | \~ 23:59                |
+--------------------+---------------------+--------------------+-------------------------+
| 9                  | Time period 3       | BCD\[2\]           | HHMM，Value range 00:00 |
|                    | wake-up time        |                    | \~ 23:59                |
+--------------------+---------------------+--------------------+-------------------------+
| 11                 | Time period 3       | BCD\[2\]           | HHMM，Value range 00:00 |
|                    | closing time        |                    | \~ 23:59                |
+--------------------+---------------------+--------------------+-------------------------+
| 13                 | Time period 4       | BCD\[2\]           | HHMM，Value range 00:00 |
|                    | wake-up time        |                    | \~ 23:59                |
+--------------------+---------------------+--------------------+-------------------------+
| 15                 | Time period 4       | BCD\[2\]           | HHMM，Value range 00:00 |
|                    | closing time        |                    | \~ 23:59                |
+--------------------+---------------------+--------------------+-------------------------+

**5. 3. 2 Query terminal audio and video attributes**

Message ID:0x9003。 message body is empty

**5. 3. 3 Terminal upload audio and video attributes**

Message ID:0x1003.\
Packet Type: Signaling Data Packet.\
Use the terminal to upload the audio and video attribute command to
respond to the terminal audio

and video attribute query message issued by the platform. The data
format of the message body is shown in Table 11.

**Table 11 Format of the audio and video attribute data uploaded by the
terminal**

+:-------------------+:--------------------+:-------------------+:------------------------+
| **Start Byte Field Type of Data Description**                                           |
+--------------------+---------------------+--------------------+-------------------------+
| 0                  | Input audio codec   | BYTE               | See table 12            |
+--------------------+---------------------+--------------------+-------------------------+
| 1                  | Number of input     | BYTE               |                         |
|                    | audio channels      |                    |                         |
+--------------------+---------------------+--------------------+-------------------------+
| 2                  | Input audio sample  | BYTE               | 0:8 kHz;\               |
|                    | rate                |                    | 1 :2 2 . 0 5 k H z ; 2  |
|                    |                     |                    | :4 4 . 1 k H z ; 3:48   |
|                    |                     |                    | kHz                     |
+--------------------+---------------------+--------------------+-------------------------+
| 3                  | Input audio sample  | BYTE               | 0 :8 位 ; 1 :1 6 位 ; 2 |
|                    | bits                |                    | :3 2 位                 |
+--------------------+---------------------+--------------------+-------------------------+
| 4                  | Audio frame length  | WORD               | Range 1 \~ 4 294 967    |
|                    |                     |                    | 295                     |
+--------------------+---------------------+--------------------+-------------------------+
| 6                  | Whether to support  | BYTE               | 0:Not allowed;1:Allowed |
|                    | audio output        |                    |                         |
+--------------------+---------------------+--------------------+-------------------------+
| 7                  | Video encoding      | BYTE               | See Table 19            |
|                    | method              |                    |                         |
+--------------------+---------------------+--------------------+-------------------------+
| 8                  | The maximum number  | BYTE               |                         |
|                    | of audio physical   |                    |                         |
|                    | channels supported  |                    |                         |
|                    | by the terminal     |                    |                         |
+--------------------+---------------------+--------------------+-------------------------+
| 9                  | The maximum number  | BYTE               |                         |
|                    | of video physical   |                    |                         |
|                    | channels supported  |                    |                         |
|                    | by the terminal     |                    |                         |
+--------------------+---------------------+--------------------+-------------------------+

**Table12 Audio and video coding type definition table**

+:------------------------+:------------------------+:---------------------------+
| **Code Name Remark**                                                           |
+-------------------------+-------------------------+----------------------------+
| 0                       | Reserved                |                            |
+-------------------------+-------------------------+----------------------------+
| 1                       | G. 721                  | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 2                       | G. 722                  | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 3                       | G. 723                  | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 4                       | G. 728                  | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 5                       | G. 729                  | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 6                       | G. 711A                 | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 7                       | G. 711U                 | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 8                       | G. 726                  | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 9                       | G. 729A                 | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 10                      | DVI4 3                  | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 11                      | DVI4 4                  | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 12                      | DVI4 8K                 | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 13                      | DVI4 16K                | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 14                      | LPC                     | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 15                      | S16BE STEREO            | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 16                      | S16BE MONO              | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 17                      | MPEGAUDIO               | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 18                      | LPCM                    | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 19                      | AAC                     | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 20                      | WMA9STD                 | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 21                      | HEAAC                   | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 22                      | PCM VOICE               | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 23                      | PCM AUDIO               | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 24                      | AACLC                   | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 25                      | MP3                     | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 26                      | ADPCMA                  | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 27                      | MP4AUDIO                | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 28                      | AMR                     | Audio                      |
+-------------------------+-------------------------+----------------------------+
| 29 \~ 90                | Reserved                |                            |
+-------------------------+-------------------------+----------------------------+
| 91                      | Penetrate               | System                     |
+-------------------------+-------------------------+----------------------------+

  -------------------- -------------------- -----------------------------
  92 \~ 97             Reserve              Video

  98                   H. 264               Video

  99                   H. 265               Video

  100                  AVS                  Video

  101                  SVAC                 Video

  102 \~ 110                                Reserved

  111 \~ 127                                Customize
  -------------------- -------------------- -----------------------------

**5. 4 Video alarm instructions 5. 4. 1 Video alarm upload**

The video alarm report is reported at the same time as the location
information. As the additional information of the 0x0200 location
information report, the additional information definition table in Table
20 of JT/T 808-2011 is extended. The extension definition of additional
information is shown in Table 13.

**Table13 Additional Information Definition Table Extension**

+:------------+:------------+:-----------------------------------------+
| **Add       | **Add       | **Description and Request**              |
| Message     | Message     |                                          |
| ID**        | Length**    |                                          |
+-------------+-------------+------------------------------------------+
| 14          | 4           | Video related alarm, DWORD, set by bit,  |
|             |             | see Table 14 for the definition of flag  |
|             |             | bit.                                     |
+-------------+-------------+------------------------------------------+
| 15          | 4           | 1 Video signal loss alarm status, DWORD, |
|             |             | set by bit, bit0\~bit31 represent the    |
|             |             | 1\~ 32 logical channels, the             |
|             |             | corresponding bit is 1, it means that    |
|             |             | the video signal loss occurs in this     |
|             |             | logical channel.                         |
+-------------+-------------+------------------------------------------+
| 16          | 4           | 1 Video signal blocking alarm status,    |
|             |             | DWORD, set by bit, bit0 \~ bit31         |
|             |             | respectively represent the 1\~32 logic   |
|             |             | channels,                                |
|             |             |                                          |
|             |             | the corresponding bit is 1, it means     |
|             |             | that the logic channel is blocked by     |
|             |             | video signal.                            |
+-------------+-------------+------------------------------------------+
| 17          | 2           | Memory failure alarm status, WORD, set   |
|             |             | by bit, bit0\~bit11 respectively         |
|             |             | represent the 1st\~12th main memory,     |
|             |             | bit12\~bit15 respectively represent the  |
|             |             | 1st\~4th disaster recovery storage       |
|             |             | device, the corresponding bit 1          |
|             |             | indicates that the memory has failed     |
+-------------+-------------+------------------------------------------+
| 18          | 2           | Detailed description of abnormal driving |
|             |             | behavior alarm, WORD, see Table 15 for   |
|             |             | definition                               |
+-------------+-------------+------------------------------------------+

**Table 14 Video alarm flag definition**

+:------------------------+:------------------------+:------------------------+
| **Bit Definition Processing Description**                                   |
+-------------------------+-------------------------+-------------------------+
| 0                       | Video signal loss alarm | The flag is maintained  |
|                         |                         | until the alarm         |
|                         |                         | condition is released   |
+-------------------------+-------------------------+-------------------------+
| 1                       | Video signal blocking   | The flag is maintained  |
|                         | alarm                   | until the alarm         |
|                         |                         | condition is released   |
+-------------------------+-------------------------+-------------------------+
| 2                       | Storage unit failure    | The flag is maintained  |
|                         | alarm                   | until the alarm         |
|                         |                         | condition is released   |
+-------------------------+-------------------------+-------------------------+
| 3                       | Other video equipment   | The flag is maintained  |
|                         | failure alarm           | until the alarm         |
|                         |                         | condition is released   |
+-------------------------+-------------------------+-------------------------+
| 4                       | Bus overload alarm      | The flag is maintained  |
|                         |                         | until the alarm         |
|                         |                         | condition is released   |
+-------------------------+-------------------------+-------------------------+
| 5                       | Abnormal driving        | The flag is maintained  |
|                         | behavior alarm          | until the alarm         |
|                         |                         | condition is released   |
+-------------------------+-------------------------+-------------------------+
| 6                       | Special alarm recording | Cleared after receiving |
|                         | reaches the storage     | response                |
|                         | threshold alarm         |                         |
+-------------------------+-------------------------+-------------------------+
| 7 \~ 31                 | reserved                |                         |
+-------------------------+-------------------------+-------------------------+

**Table 15 Abnormal driving behavior flag definition**

+:-------------------+:-----------------------+:-------------------+:----------------------+
| **Start Byte Field Type of Data Description & Request**                                  |
+--------------------+------------------------+--------------------+-----------------------+
| 0                  | Types of Abnormal      | WORD               | Bitwise setting: 0    |
|                    | Driving Behaviors      |                    | means no, 1 means     |
|                    |                        |                    | yes;\                 |
|                    |                        |                    | bit0: fatigue;\       |
|                    |                        |                    | bit1: make a call;    |
|                    |                        |                    |                       |
|                    |                        |                    | bit2: smoke;\         |
|                    |                        |                    | bit3 to bit10:        |
|                    |                        |                    | reserved; bit11 to    |
|                    |                        |                    | bit15: custom         |
+--------------------+------------------------+--------------------+-----------------------+
| 2                  | Degree of fatigue      | BYTE               | The fatigue level is  |
|                    |                        |                    | represented by 0 to   |
|                    |                        |                    | 100, the larger the   |
|                    |                        |                    | value is Indicates    |
|                    |                        |                    | more fatigue          |
+--------------------+------------------------+--------------------+-----------------------+

**5. 4. 2 Terminal upload passenger traffic**

Message ID:0x1005\
Packet Type: Signaling Data Packet.

The terminal device counts the passengers getting on and off the bus
through video analysis, and sends the counting results to the platform.
The data format of the message body is shown in Table 16

**Table16 Terminal upload passenger flow data format**

+:-------------------+:-------------------+:-------------------+:--------------------------+
| **Start Byte Field Type of Data Description & Request**                                  |
+--------------------+--------------------+--------------------+---------------------------+
| 0                  | Start time         | BCD\[6\]           | YY-MM-DD-HH-MM-SS(GMT+8   |
|                    |                    |                    | time, this The time       |
|                    |                    |                    | involved in the standard  |
|                    |                    |                    | uses this time zone)      |
+--------------------+--------------------+--------------------+---------------------------+
| 6                  | Ending time        | BCD\[6\]           | YY-MM-DD-HH-MM-SS         |
+--------------------+--------------------+--------------------+---------------------------+
| 12                 | Number of boarding | WORD               | Number of people getting  |
|                    | people             |                    | on board from start time  |
|                    |                    |                    | to end time               |
+--------------------+--------------------+--------------------+---------------------------+
| 14                 | Number of people   | WORD               | Number of people getting  |
|                    | getting off        |                    | off from the start time   |
|                    |                    |                    | to the end time           |
+--------------------+--------------------+--------------------+---------------------------+

**5. 5 Real-time audio and video transmission instructions 5. 5. 1
Real-time audio and video transmission request**

Message ID:0x9101。

Packet Type: Signaling Data Packet.\
The platform requests real-time audio and video transmission from
terminal equipment, including

real-time video transmission, active two-way voice intercom, one-way
monitoring, broadcast voice to all terminals, and specific transparent
transmission. The format of the message body data is shown in Table 17.
After receiving this message, the terminal will reply to the video
terminal general response, and then establish a transmission link
through the corresponding server IP address and port number, and then
transmit the corresponding audio and video stream data according to the
audio and video stream transmission protocol.

**Table 17 Real-time audio and video transmission request data format**

+:-------------------+:-------------------+:-------------------+:--------------------------+
| **Start Byte Field Type of Data Description & Request**                                  |
+--------------------+--------------------+--------------------+---------------------------+
| 0                  | Server IP address  | BYTE               | Length *n*                |
|                    | length             |                    |                           |
+--------------------+--------------------+--------------------+---------------------------+
| 1                  | Server IP Address  | STRING             | Live Video Server IP      |
|                    |                    |                    | Address                   |
+--------------------+--------------------+--------------------+---------------------------+
| 1+*n*              | Server video       | WORD               | Live Video Server TCP     |
|                    | channel listening  |                    | Port Number               |
|                    | port number( TCP)  |                    |                           |
+--------------------+--------------------+--------------------+---------------------------+

+:---------+:-------------------+:---------+:--------------------------+
| 3+n      | Server video       | WORD     | Live Video Server UDP     |
|          | channel listening  |          | Port Number               |
|          | port number( UDP)  |          |                           |
+----------+--------------------+----------+---------------------------+
| 5+n      | logical channel    | BYTE     | Refer to Table 2 in JT/T  |
|          | number             |          | 1076-2016                 |
+----------+--------------------+----------+---------------------------+
| 6+n      | Data Type          | BYTE     | 0: Audio and video, 1:    |
|          |                    |          | Video,\                   |
|          |                    |          | 2: Two-way intercom, 3:   |
|          |                    |          | Monitor,                  |
|          |                    |          |                           |
|          |                    |          | 4: Central broadcast,\    |
|          |                    |          | 5: Transparent            |
|          |                    |          | transmission              |
+----------+--------------------+----------+---------------------------+
| 7+n      | Stream type        | BYTE     | 0: Main stream, 1: Sub    |
|          |                    |          | stream                    |
+----------+--------------------+----------+---------------------------+

After receiving the special alarm from the video terminal, the platform
should take the initiative to issue this command without waiting for
manual confirmation, and start real-time audio and video transmission.

**5. 5. 2 Audio and video real-time transmission control**

Message ID:0x9102

Packet Type: Signaling Data Packet.\
The platform sends audio and video real-time transmission control
commands to switch code streams,

pause code stream transmission, close audio and video transmission
channels, etc. The data format of the message body is shown in Table 18.

**Table 18 Audio and video real-time transmission control data format**

  -----------------------------------------------------------------------
  **Start Byte Field Type of Data Description & Request**

  0 logical channel number BYTE Refer to Table 2 in JT/T 1076-2016
  -----------------------------------------------------------------------

+---------:+:-------------------+:---------+:--------------------------+
| 1        | Control Command    | BYTE     | The platform can control  |
|          |                    |          | the real- time audio and  |
|          |                    |          | video of the device       |
|          |                    |          | through this command:\    |
|          |                    |          | 0: Turn off the audio and |
|          |                    |          | video transmission        |
|          |                    |          | command;                  |
|          |                    |          |                           |
|          |                    |          | 1: switch stream          |
|          |                    |          | (increase pause and       |
|          |                    |          | resume);\                 |
|          |                    |          | 2: Pause the sending of   |
|          |                    |          | all streams on this       |
|          |                    |          | channel;                  |
|          |                    |          |                           |
|          |                    |          | 3: Resume the             |
|          |                    |          | transmission of the       |
|          |                    |          | stream before the         |
|          |                    |          | suspension, which is      |
|          |                    |          | consistent with the       |
|          |                    |          | stream type before the    |
|          |                    |          | suspension;\              |
|          |                    |          | 4: Turn off the two-way   |
|          |                    |          | intercom                  |
+----------+--------------------+----------+---------------------------+
| 2        | Turn off audio and | BYTE     | 0: close the audio and    |
|          | video types        |          | video data related to     |
|          |                    |          | this channel;             |
|          |                    |          |                           |
|          |                    |          | 1: Only the audio related |
|          |                    |          | to the channel is turned  |
|          |                    |          | off, and the video        |
|          |                    |          | related to the channel is |
|          |                    |          | reserved;                 |
|          |                    |          |                           |
|          |                    |          | 2: Only close the video   |
|          |                    |          | related to this channel,  |
|          |                    |          | keep the audio related to |
|          |                    |          | this channel              |
+----------+--------------------+----------+---------------------------+
| 3        | Switch stream type | BYTE     | Switch the previously     |
|          |                    |          | applied code stream to    |
|          |                    |          | the newly applied code    |
|          |                    |          | stream, and the audio is  |
|          |                    |          | the same as before the    |
|          |                    |          | switch.                   |
|          |                    |          |                           |
|          |                    |          | The newly applied code    |
|          |                    |          | stream is: 0: main code   |
|          |                    |          | stream;\                  |
|          |                    |          | 1: Substream              |
+----------+--------------------+----------+---------------------------+

**5. 5. 3 Real-time audio and video streaming and transparent data
transmission**

Packet type: Stream data packet.

The transmission of real-time audio and video stream data refers to the
RTP protocol, which is carried by UDP or TCP. Payload packet format in
IETF RFC 3550 RTP

On the basis of the definition, fields such as message serial number,
SIM card number, audio and video channel number are supplemented, and
the definition of the payload packet format is shown in Table 19. The
bits defined in the table are filled in according to big-endian mode
(big-endian).

**Table19 Audio and video streaming and transparent data transmission
protocol payload format definition table**

+:-------------------+:-------------------+:-------------------+:--------------------------+
| **Start Byte Field Type of Data Description & Request**                                  |
+--------------------+--------------------+--------------------+---------------------------+
| 0                  | Frame header       | DWORD              | Fixed at 0x30 0x31 0x63   |
|                    | identifier         |                    | 0x64                      |
+--------------------+--------------------+--------------------+---------------------------+
| 4                  | V                  | 2 BITS             | Fixed at 2                |
+--------------------+--------------------+--------------------+---------------------------+
|                    | P                  | 1 BIT              | Fixed at 0                |
+--------------------+--------------------+--------------------+---------------------------+
|                    | X                  | 1 BIT              | Whether the RTP header    |
|                    |                    |                    | needs an extension bit,   |
|                    |                    |                    | fixed at 0                |
+--------------------+--------------------+--------------------+---------------------------+
|                    | CC                 | 4 BITS             | Fixed at 1                |
+--------------------+--------------------+--------------------+---------------------------+
| 5                  | M                  | 1 BIT              | Flag bit to determine     |
|                    |                    |                    | whether it is the         |
|                    |                    |                    | boundary of a complete    |
|                    |                    |                    | data frame                |
+--------------------+--------------------+--------------------+---------------------------+
|                    | PT                 | 7 BITS             | Load type, see Table 19   |
+--------------------+--------------------+--------------------+---------------------------+
| 6                  | Package Serial     | WORD               | Initially 0, add 1 to the |
|                    | Number             |                    | sequence number for each  |
|                    |                    |                    | RTP packet sent           |
+--------------------+--------------------+--------------------+---------------------------+
| 8                  | SIM No.            | BCD\[6\]           | Terminal SIM No.          |
+--------------------+--------------------+--------------------+---------------------------+
| 14                 | Logical channel    | BYTE               | Refer to Table 2 of JT /  |
|                    | number             |                    | T 1076--- 2016            |
+--------------------+--------------------+--------------------+---------------------------+
| 15                 | Data Type          | 4 BITS             | 0000:Video I Frame;       |
|                    |                    |                    | 0001:Video P Frame;       |
|                    |                    |                    | 0010:Video B Frame;       |
|                    |                    |                    | 0011:Audio Frame;         |
|                    |                    |                    | 0100:Transparent data     |
|                    |                    |                    | transmission              |
+--------------------+--------------------+--------------------+---------------------------+
|                    | Subcontract        | 4 BITS             | 0000:Atomic package, not  |
|                    | processing markers |                    | splittable ;\             |
|                    |                    |                    | 0001:The first packet     |
|                    |                    |                    | when subcontracting is    |
|                    |                    |                    | processed; 0010:The last  |
|                    |                    |                    | packet during sub- packet |
|                    |                    |                    | processing;               |
|                    |                    |                    |                           |
|                    |                    |                    | 0011:Intermediate package |
|                    |                    |                    | when subcontracting       |
+--------------------+--------------------+--------------------+---------------------------+
| 16                 | timestamp          | BYTE\[8\]          | Identifies the relative   |
|                    |                    |                    | time of the current frame |
|                    |                    |                    | of this RTP packet, in    |
|                    |                    |                    | milliseconds (ms). When   |
|                    |                    |                    | the data type is 0100,    |
|                    |                    |                    | there is no such field    |
+--------------------+--------------------+--------------------+---------------------------+
| 24                 | Last I Frame       | WORD               | The time interval between |
|                    | Interval           |                    | this frame and the        |
|                    |                    |                    | previous key frame, in    |
|                    |                    |                    | milliseconds (ms), when   |
|                    |                    |                    | the data type is          |
|                    |                    |                    | non-video frame, there is |
|                    |                    |                    | no such field             |
+--------------------+--------------------+--------------------+---------------------------+
| 26                 | Last Frame         | WORD               | (The time interval        |
|                    | Interval           |                    | between this frame and    |
|                    |                    |                    | the previous frame, in    |
|                    |                    |                    | milliseconds ms), when    |
|                    |                    |                    | the data type is          |
|                    |                    |                    | non-video frame, there is |
|                    |                    |                    | no such field             |
+--------------------+--------------------+--------------------+---------------------------+
| 28                 | data body length   | WORD               | Subsequent data body      |
|                    |                    |                    | length, excluding this    |
|                    |                    |                    | field                     |
+--------------------+--------------------+--------------------+---------------------------+

  ----------- -------------------- ----------- ---------------------------
           30 data body            BYTE\[ n\]  Audio and video data or
                                               transparent data, the
                                               length does not exceed 95
                                               byte

  ----------- -------------------- ----------- ---------------------------

**5. 5. 4 Real-time audio and video transmission status notification**

Message ID:0x9105。

Packet type: Signaling data packet.

The platform sends notification packets to the terminal according to the
set time interval in the process of receiving the audio and video data
uploaded by the terminal. The format of the message body data is shown
in Table 20.

**Table 20 Real-time audio and video transmission status notification
data format**

**5. 6 Historical audio and video query, playback and download
instructions 5. 6. 1 Query resource list**

Message ID:0x9205\
Packet type: Signaling data packet.

The platform queries the video file list from the terminal according to
the combined conditions of audio and video type, channel number, alarm
type and start and end time. The format of the message body data is
shown in Table 21.

**Table 21 Query the data format of the video file list**

+:-------------------+:-------------------+:-------------------+:--------------------------+
| **Start Byte Field Type of Data Description & Request**                                  |
+--------------------+--------------------+--------------------+---------------------------+
| 0                  | Logical channel    | BYTE               | RefertoTable2of           |
|                    | number             |                    | JT/T1076--- 2016          |
+--------------------+--------------------+--------------------+---------------------------+
| 1                  | Packet loss rate   | BYTE               | The packet loss rate of   |
|                    |                    |                    | the current transmission  |
|                    |                    |                    | channel, multiply the     |
|                    |                    |                    | value by 100 and take the |
|                    |                    |                    | integer part              |
+--------------------+--------------------+--------------------+---------------------------+

+:-------------------+:-------------------+:-------------------+:--------------------------+
| Start Byte Field Type of Data Description & Request                                      |
+--------------------+--------------------+--------------------+---------------------------+
| 0                  | Logical channel    | BYTE               | Refertotable2ofJT/T       |
|                    | number             |                    | 1076--- 2016，0 means all |
|                    |                    |                    | channel.                  |
+--------------------+--------------------+--------------------+---------------------------+
| 1                  | Start time         | BCD\[6\]           | YY-MM-DD-HH-MM-SS， All 0 |
|                    |                    |                    |                           |
|                    |                    |                    | means no start time       |
|                    |                    |                    | condition                 |
+--------------------+--------------------+--------------------+---------------------------+
| 7                  | Ending Time        | BCD\[6\]           | YY-MM-DD-HH-MM-SS， All 0 |
|                    |                    |                    |                           |
|                    |                    |                    | means no end time         |
|                    |                    |                    | condition                 |
+--------------------+--------------------+--------------------+---------------------------+
| 13                 | Alarm logo         | 64BITS             | bit0 \~ bit31 refer to    |
|                    |                    |                    | the definition of         |
|                    |                    |                    | alarmlogoofTable18of JT/T |
|                    |                    |                    |                           |
|                    |                    |                    | 808---2011 ;\             |
|                    |                    |                    | bit32 \~ bit63 见表 13;\  |
|                    |                    |                    | All 0 means no alarm      |
|                    |                    |                    | condition                 |
+--------------------+--------------------+--------------------+---------------------------+

  ----------- -------------------- ----------- ---------------------------
           21 Audio and video      BYTE        0: Audio & Video， 1:
              resource types                   Audio， 2: Video， 3: Video
                                               or Audio;

           22 Stream type          BYTE        0:All stream code，1:Main
                                               Code Stream，2:Subcode
                                               stream

           23 memory type          BYTE        0:All Storage，1:Main
                                               storage， 2:disaster
                                               recovery storage
  ----------- -------------------- ----------- ---------------------------

**5. 6. 2 List of audio and video resources uploaded by the terminal**

Message ID:0x1205。

Packet type: Signaling data packet.\
The terminal responds to the platform\'s instruction for querying the
audio and video resource list, and

responds with the terminal uploading the audio and video resource list
message. If the list is too large and needs to be subcontracted for
transmission, the subcontracting mechanism defined in 4.4.3 in JT/T 808-
2011 shall be used for processing, and the platform shall reply to each
individual subcontracting video platform general response. The format of
the message body data is shown in Table 22.

**Table 22 The data format of the list of audio and video resources
uploaded by the terminal**

+:-------------------+:-------------------+:-------------------+:--------------------------+
| **Start Byte Field Type of Data Description & Request**                                  |
+--------------------+--------------------+--------------------+---------------------------+
| 0                  | Serial No.         | WORD               | The serial number         |
|                    |                    |                    | corresponding to the      |
|                    |                    |                    | command to query the      |
|                    |                    |                    | audio and video resource  |
|                    |                    |                    | list                      |
+--------------------+--------------------+--------------------+---------------------------+
| 2                  | Total number of    | DWORD              | No audio and video        |
|                    | audio and video    |                    | resources that meet the   |
|                    | resources          |                    | conditions, set to 0      |
+--------------------+--------------------+--------------------+---------------------------+
| 6                  | Audio and video    |                    | Refer to table 23         |
|                    | resource list      |                    |                           |
+--------------------+--------------------+--------------------+---------------------------+

**Table 23 Format of the list of audio and video resources uploaded by
the terminal**

+:-------------------+:-------------------+:-------------------+:--------------------------+
| **Start Byte Field Type of Data Description & Request**                                  |
+--------------------+--------------------+--------------------+---------------------------+
| 0                  | Logical channel    | BYTE               | Refer to table 2 of JT /  |
|                    | number             |                    | T 1076---2016             |
+--------------------+--------------------+--------------------+---------------------------+
| 1                  | Start time         | BCD\[6\]           | YY-MM-DD-HH-MM-SS         |
+--------------------+--------------------+--------------------+---------------------------+
| 7                  | Ending Time        | BCD\[6\]           | YY-MM-DD-HH-MM-SS         |
+--------------------+--------------------+--------------------+---------------------------+
| 13                 | Alarm logo         | 64BITS             | bit0 \~ bit31 refer to    |
|                    |                    |                    | thedefinition of alarm    |
|                    |                    |                    | logo JT / T 808---2011 ;  |
|                    |                    |                    | bit32 \~ bit63 see table  |
|                    |                    |                    | 13                        |
+--------------------+--------------------+--------------------+---------------------------+
| 21                 | Audio and video    | BYTE               | 0:Audio &                 |
|                    | resource types     |                    | Video，1:Audio，2: Viddeo |
+--------------------+--------------------+--------------------+---------------------------+
| 22                 | Stream type        | BYTE               | 1:Main Code               |
|                    |                    |                    | stream，2:Subcode stream  |
+--------------------+--------------------+--------------------+---------------------------+
| 23                 | Memory type        | BYTE               | 1:main                    |
|                    |                    |                    | storage，2:disaster       |
|                    |                    |                    | recovery storage          |
+--------------------+--------------------+--------------------+---------------------------+
| 24                 | File size          | DWORD              | unit( BYTE)               |
+--------------------+--------------------+--------------------+---------------------------+

**5. 6. 3 The platform issues a remote video playback request**

Message ID:0x9201。

Packet type: Signaling data packet.

The platform requests audio and video video playback from the terminal
device, the terminal should respond with the 0x1205 (terminal upload
video file list) command, and then transmit the video data in the packet
format defined in Table 18 Real-time audio and video stream data
transmission RTP protocol payload format. The message body data format
is shown in Table 24.

**Table 24 The data format of the remote video playback request issued
by the platform**

+:-------------------+:-------------------+:-------------------+:--------------------------+
| **Start Byte Field Type of Data Description & Request**                                  |
+--------------------+--------------------+--------------------+---------------------------+
| 0                  | Server IP Length   | BYTE               | Length n                  |
+--------------------+--------------------+--------------------+---------------------------+
| 1                  | Server IP address  | STRING             | IP address of real-time   |
|                    |                    |                    | audio and video server    |
+--------------------+--------------------+--------------------+---------------------------+
| 1+n                | Server audio and   | WORD               | Real-time audio and video |
|                    | video channel      |                    | server port number, set   |
|                    | listening port     |                    | to 0 when not using TCP   |
|                    | number( TCP)       |                    | transmission              |
+--------------------+--------------------+--------------------+---------------------------+
| 3+n                | Server audio and   | WORD               | Real-time audio and video |
|                    | video channel      |                    | server port number, set   |
|                    | listening port     |                    | to 0 when not using UDP   |
|                    | number ( UDP)      |                    | transmission              |
+--------------------+--------------------+--------------------+---------------------------+
| 5+n                | Logical channel    | BYTE               | Refer to table of JT / T  |
|                    | number             |                    | 1076---2016               |
+--------------------+--------------------+--------------------+---------------------------+
| 6+n                | Audio and video    | BYTE               | 0: Audio & Video， 1:     |
|                    | type               |                    | Audio， 2: Video， 3:     |
|                    |                    |                    | Audio or Video            |
+--------------------+--------------------+--------------------+---------------------------+
| 7+n                | Code Stream Type   | BYTE               | 0:Main code stream or     |
|                    |                    |                    | subcode stream，1:Main    |
|                    |                    |                    | code stream，2:           |
|                    |                    |                    |                           |
|                    |                    |                    | subcode stream;           |
|                    |                    |                    |                           |
|                    |                    |                    | If this channel only      |
|                    |                    |                    | transmits audio, this     |
|                    |                    |                    | field is set to 0         |
+--------------------+--------------------+--------------------+---------------------------+
| 8+n                | memory type        | BYTE               | 0: Main memory or         |
|                    |                    |                    | disaster recovery memory, |
|                    |                    |                    | 1: Main memory,\          |
|                    |                    |                    | 2: Disaster recovery      |
|                    |                    |                    | storage                   |
+--------------------+--------------------+--------------------+---------------------------+
| 9+n                | Playback method    | BYTE               | 0: normal playback;\      |
|                    |                    |                    | 1: Fast forward           |
|                    |                    |                    | playback;\                |
|                    |                    |                    | 2: Rewind the key frame   |
|                    |                    |                    | quickly; 3: key frame     |
|                    |                    |                    | playback;\                |
|                    |                    |                    | 4: Single frame upload    |
+--------------------+--------------------+--------------------+---------------------------+

+:---------+:-------------------+:---------+:--------------------------+
| 10 + n   | Fast forward or    | BYTE     | When the playback mode is |
|          | rewind multiples   |          | 1 and 2, the content of   |
|          |                    |          | this field is valid,      |
|          |                    |          | otherwise it is set to    |
|          |                    |          | 0.\                       |
|          |                    |          | 0: invalid;               |
|          |                    |          |                           |
|          |                    |          | 1: 1 times; 2: 2 times    |
+----------+--------------------+----------+---------------------------+
| 10 + n   | Fast forward or    | BYTE     | 3:4 times; 4:8 times;     |
|          | rewind multiples   |          | 5:16 times                |
+----------+--------------------+----------+---------------------------+
| 11 + n   | Start Time         | BCD\[6\] | YY-MM-DD-HH-MM-SS，When   |
|          |                    |          |                           |
|          |                    |          | the playback mode is 4,   |
|          |                    |          | this field indicates the  |
|          |                    |          | upload time of a single   |
|          |                    |          | frame                     |
+----------+--------------------+----------+---------------------------+
| 17 + n   | Ending time        | BCD\[6\] | YY-MM-DD-HH-MM-SS， 0     |
|          |                    |          | means                     |
|          |                    |          |                           |
|          |                    |          | always return When the    |
|          |                    |          | playback mode is 4, this  |
|          |                    |          | field is invalid          |
+----------+--------------------+----------+---------------------------+

**5. 6. 4 Remote video playback control issued by the platform**

Message ID:0x9202。\
Packet type: Signaling data packet.

During the playback of audio and video recordings by the terminal
device, the platform can issue playback control instructions to control
the playback process. The format of the message body data is shown in
Table 25.

**Table 25 Remote video playback control data format issued by the
platform**

+:-------------------+:-------------------+:-------------------+:--------------------------+
| Start Byte Field Type of Data Description & Request                                      |
+--------------------+--------------------+--------------------+---------------------------+
| 0                  | Audio and video    | BYTE               | Refer to table 2 of JT /  |
|                    | channel number     |                    | T 1076---2016             |
+--------------------+--------------------+--------------------+---------------------------+
| 1                  | playback control   | BYTE               | 0: start playback;\       |
|                    |                    |                    | 1: Pause playback;\       |
|                    |                    |                    | 2: End playback;\         |
|                    |                    |                    | 3: Fast forward           |
|                    |                    |                    | playback;\                |
|                    |                    |                    | 4: Rewind the key frame   |
|                    |                    |                    | quickly; 5: Drag          |
|                    |                    |                    | playback;\                |
|                    |                    |                    | 6: Keyframe playback      |
+--------------------+--------------------+--------------------+---------------------------+

+---------:+:-------------------+:---------+:--------------------------+
| 2        | Fast forward or    | BYTE     | When the playback control |
|          | rewind multiples   |          | is 3 and 4, the content   |
|          |                    |          | of this field is valid,   |
|          |                    |          | otherwise it is set to 0. |
|          |                    |          |                           |
|          |                    |          | 0:Invalid; 1:1 times; 2:2 |
|          |                    |          | times; 3:4 times; 4:8     |
|          |                    |          | times; 5:16 times         |
+----------+--------------------+----------+---------------------------+
| 3        | Drag playback      | BCD\[6\] | YY-MM-DD-HH-MM-SS，This   |
|          | position           |          |                           |
|          |                    |          | field is valid when       |
|          |                    |          | playback control is 5     |
+----------+--------------------+----------+---------------------------+

**5. 6. 5 File upload instruction**

Message ID:0x9206。\
Packet type: Signaling data packet.

The platform issues a file upload command to the terminal, and the
terminal replies with a general response and uploads the file to the
specified path of the target FTP server through FTP. The message body
data format is shown in Table 26.

**Table 26 File upload instruction data format**

+:-------------------+:-------------------+:-------------------+:--------------------------+
| **Start Byte Field Type of Data Description & Request**                                  |
+--------------------+--------------------+--------------------+---------------------------+
| 0                  | Server IP address  | BYTE               | Length *k*                |
|                    | length             |                    |                           |
+--------------------+--------------------+--------------------+---------------------------+
| 1                  | Server IP address  | STRING             | FTP Server IP address     |
+--------------------+--------------------+--------------------+---------------------------+
| 1+*k*              | Port               | WORD               | FTP Server Port           |
+--------------------+--------------------+--------------------+---------------------------+
| 3+*k*              | Username length    | BYTE               | Length *l*                |
+--------------------+--------------------+--------------------+---------------------------+
| 4+*k*              | Username           | STRING             | FTP Username              |
+--------------------+--------------------+--------------------+---------------------------+
| 4+*k*+*l*          | Password length    | BYTE               | Length *m*                |
+--------------------+--------------------+--------------------+---------------------------+
| 5+*k*+*l*          | Password           | STRING             | FTP Password              |
+--------------------+--------------------+--------------------+---------------------------+
| 5+*k*+*l*+*m*      | File upload path   | BYTE               | Length *n*                |
|                    | length             |                    |                           |
+--------------------+--------------------+--------------------+---------------------------+
| 6+*k*+*l*+*m*      | File upload path   | STRING             | File upload path          |
+--------------------+--------------------+--------------------+---------------------------+
| 6+*k*+*l*+*m* +*n* | Logical Channel    | BYTE               | Refertotable2of           |
|                    | No.                |                    | JT/T1076--- 2016          |
+--------------------+--------------------+--------------------+---------------------------+
| 7+*k*+*l*+*m* +*n* | Start time         | BCD\[6\]           | YY-MM-DD-HH-MM-SS         |
+--------------------+--------------------+--------------------+---------------------------+
| 13 + *k* + *l* +   | Ending Time        | BCD\[6\]           | YY-MM-DD-HH-MM-SS         |
| *m*+*n*            |                    |                    |                           |
+--------------------+--------------------+--------------------+---------------------------+

+:---------+:-------------------+:---------+:--------------------------+
| 19 +     | Alarm logo         | 64BITS   | Refer to the definition   |
| *k* +    |                    |          | of the alarm              |
| *l* +    |                    |          | logoofbit0\~bit31         |
| *m*+*n*  |                    |          | JT/T808---                |
|          |                    |          |                           |
|          |                    |          | 2011 ;\                   |
|          |                    |          | bit32 \~bit63 refer to    |
|          |                    |          | table 12;                 |
|          |                    |          |                           |
|          |                    |          | All 0 means do not        |
|          |                    |          | specify whether there is  |
|          |                    |          | an alarm                  |
+----------+--------------------+----------+---------------------------+
| 27 +     | Audio and video    | BYTE     | 0:Audio &                 |
| *k* +    | resource types     |          | Video，1:Audio，2:        |
| *l* +    |                    |          | Video，3:Audio or Audio & |
| *m*+*n*  |                    |          | Video                     |
+----------+--------------------+----------+---------------------------+
| 28 +     | Stream type        | BYTE     | 0: Main code stream or    |
| *k* +    |                    |          | Subcode stream\           |
| *l* +    |                    |          | 1:Main Code               |
| *m*+*n*  |                    |          | stream，2:Subcode stream  |
+----------+--------------------+----------+---------------------------+
| 29 +     | Storage type       | BYTE     | 0: Main Storage or        |
| *k* +    |                    |          | disaster recovery         |
| *l* +    |                    |          | storage; 1:main           |
| *m*+*n*  |                    |          |                           |
|          |                    |          | storage，2:disaster       |
|          |                    |          | recovery storage          |
+----------+--------------------+----------+---------------------------+
| 30 +     | Task Execution     | BYTE     | Represented in bits:\     |
| *k* +    | Conditions         |          | bit0: WIFI, when it is 1, |
| *l* +    |                    |          | it can be downloaded      |
| *m*+*n*  |                    |          | under WI-FI; bit1: LAN,   |
|          |                    |          | when it is 1, it can be   |
|          |                    |          | downloaded when connected |
|          |                    |          | to LAN; bit2: 3G / 4G,    |
|          |                    |          | when it is 1, it can be   |
|          |                    |          | downloaded when connected |
|          |                    |          | with 3G / 4G download     |
+----------+--------------------+----------+---------------------------+

**5. 6. 6 File upload completion notification**

Message ID:0x1206。

Packet type: Signaling data packet.\
When all files are uploaded through FTP, the terminal will report this
command to notify the platform.

The message body data format is shown in Table 27.

**Table 27 File upload completion notification data format**

+:-------------------+:-------------------+:-------------------+:--------------------------+
| **Start Byte Field Type of Data Description & Request**                                  |
+--------------------+--------------------+--------------------+---------------------------+
| 0                  | Reply serial       | WORD               | The serial number         |
|                    | number             |                    | corresponding to the      |
|                    |                    |                    | platform file upload      |
|                    |                    |                    | message                   |
+--------------------+--------------------+--------------------+---------------------------+
| 2                  | Result             | BYTE               | 0:Success; 1 :F a i l e d |
+--------------------+--------------------+--------------------+---------------------------+

**5. 6. 7 File upload control**

Message ID:0x9207。

Packet type: Signaling data packet.\
The platform notifies the terminal to pause, resume or cancel all files
in transit. The message body data format is shown in Table 28.

**Table 28**

**File upload control data format**

+:-------------------+:-------------------+:-------------------+:--------------------------+
| **Start Byte Field Type of Data Description & Request**                                  |
+--------------------+--------------------+--------------------+---------------------------+
| 0                  | Reply serial       | WORD               | The serial number         |
|                    | number             |                    | corresponding to the      |
|                    |                    |                    | platform file upload      |
|                    |                    |                    | message                   |
+--------------------+--------------------+--------------------+---------------------------+
| 2                  | upload control     | BYTE               | 0: Pause;\                |
|                    |                    |                    | 1: Continue; 2: Cancel    |
+--------------------+--------------------+--------------------+---------------------------+

**5. 7 PTZ Control Instructions 5. 7. 1 PTZ rotation**

Message ID: 0x9301

Packet type: Signaling data packet.\
The platform requests the terminal to rotate the lens, message body data
format is shown in Table 29.

**Table 29 PTZ rotation data format**

  ----------- -------------------- ----------- ---------------------------
  **Start     **Field**            **Type of   **Description & Request**
  Byte**                           Data**      

  0           Logical Channel      BYTE        Refertotable2of JT/T1076---
              Number                           2016

  1           Direction            BYTE        0: stop; 1: up; 2: down; 3:
                                               left; 4: Right

  2           Speed                BYTE        0 \~ 255
  ----------- -------------------- ----------- ---------------------------

**5. 7. 2 PTZ adjustment focus control**

Message ID:0x9302。

Packet type: Signaling data packet.\
The platform requests the terminal to adjust the focal length of the
lens. The message body data format is shown in Table 30.

**Table 30 PTZ adjustment lens focus control data format**

  ----------- -------------------- ----------- ---------------------------
  **Start     **Field**            **Type of   **Description & Request**
  Byte**                           Data**      

  0           Logical Channel      BYTE        Refertotable2of JT/T1076---
              Number                           2016

  1           Focus adjustment     BYTE        0: increase the focal
              direction                        length; 1: The focal length
                                               is reduced
  ----------- -------------------- ----------- ---------------------------

**5. 7. 3 Gimbal Adjustment Aperture Control**

Message ID: 0x9303;\
Packet type: Signaling data packet.\
The platform requests the terminal to adjust the lens aperture. The
message body data format is shown in Table 31

**Table 31 PTZ adjustment lens aperture control data format**

  ----------- -------------------- ----------- ---------------------------
  **Start     **Field**            **Type of   **Description & Request**
  Byte**                           Data**      

  0           Logical Channel      BYTE        Refertotable2of JT/T1076---
              Number                           2016

  1           Aperture adjustment  BYTE        0: Increase; 1: Turn down
              method                           
  ----------- -------------------- ----------- ---------------------------

**5. 7. 4 PTZ wiper control**

Message ID: 0x9304;\
Packet type: Signaling data packet.\
The platform requests wipers from the terminal. The message body data
format is shown in Table 32.

**Table 32 PTZ wiper control data format**

  ----------- -------------------- ----------- ---------------------------
  **Start     **Field**            **Type of   **Description & Request**
  Byte**                           Data**      

  0           Logical Channel      BYTE        Refertotable2of JT/T1076---
              Number                           2016

  1           Start-stop sign      BYTE        0: stop; 1: start
  ----------- -------------------- ----------- ---------------------------

**5. 7. 5 Infrared fill light control**

Message ID: 0x9305

Packet type: Signaling data packet.\
The platform requests infrared supplementary light control from the
terminal. The message body data format is shown in Table 33.

**Table 33 Infrared fill light control data format**

  ----------- -------------------- ----------- ---------------------------
  **Start     **Field**            **Type of   **Description & Request**
  Byte**                           Data**      

  0           Logical Channel      BYTE        Refertotable2of JT/T1076---
              Number                           2016

  1           Start-stop sign      BYTE        0: stop; 1: start
  ----------- -------------------- ----------- ---------------------------

**5. 7. 6 PTZ zoom control**

Message ID: 0x9306;

Packet type: Signaling data packet.\
The platform requests zoom control from the terminal. The message body
data format is shown in Table 34.

**Table 34 PTZ zoom control data format**

  ----------- -------------------- ----------- ---------------------------
  **Start     **Field**            **Type of   **Description & Request**
  Byte**                           Data**      

  0           Logical Channel      BYTE        Refertotable2of JT/T1076---
              Number                           2016

  1           Zoom control         BYTE        0: Increase; 1: Turn down
  ----------- -------------------- ----------- ---------------------------

**5.8 Terminal sleep wake-up command**

The platform wakes up the dormant terminal to start working by sending a
wake-up message. The content of the message is \"WAKEUPXX\", where XX
represents the duration of wake-up, in minutes (min), and the value
ranges from 0 to 65 536. If 0, it means stay awake until terminal ACC ON
or below rated voltage.

**6. Stream communication between audio and video streaming server and
client-side playback software**

**6.1 Audio and video stream and transparent data encapsulation format**

See Table 18 for the definition of audio and video streams and
transparent data encapsulation formats between the video platform and
the client-side playback software.

**6. 2 Audio and video streaming request URL command format**

After the government video surveillance platform sends a real-time
preview or remote playback request command to the enterprise video
surveillance platform and gets a successful response,

Get the IP address and port number of the audio and video streaming
server, and send it directly to the enterprise audio and video streaming
server from the client of the government video supervision platform URL
command to obtain audio and video stream data after establishing a link,
and the client can play it through a browser plug-in or special
software.

The audio and video stream request URL should not be displayed in the
interface. The specific definition of the instruction format is as
follows:

http: // \[Server IP Address\]: \[Port Number\] / \[License Plate
Number\]. \[License Plate Color\]. \[Logical Channel Number\]. \[Audio
Video Logo\]. \[Aging Password\]

The definition of each data item of the audio and video stream request
URL instruction is shown in Table 35.

**Table 35 Audio and video stream request URL instruction data item
definition table**

+:--------------+:--------------+:-----------------------------------------+
| **Field**                     | **Description & Request**                |
+---------------+---------------+------------------------------------------+
| Address       | Server IP     | Audio and video streaming server IP      |
| attribute     | Address       | address                                  |
| information   |               |                                          |
|               +---------------+------------------------------------------+
|               | Port          | Audio and video streaming service port   |
|               |               | number                                   |
|               +---------------+------------------------------------------+
|               | License plate | Should be encoded in UTF-8 and uniformly |
|               | number        | converted to the                         |
|               |               | application/x-www-form-URLencoded MIME   |
|               |               | format in IETF RFC 2854                  |
|               +---------------+------------------------------------------+
|               | license plate | Refer to the Regulation of 5.4.12 of JT  |
|               | color         | / T 415---2006                           |
|               +---------------+------------------------------------------+
|               | Logical       | Refer to table 2 of JT / T 1076---2016,  |
|               | Channel       | 0 means all channels.                    |
|               | Number        |                                          |
|               +---------------+------------------------------------------+
|               | Audio and     | 0: audio and video; 1: audio;\           |
|               | video logo    | 2: Video                                 |
+---------------+---------------+------------------------------------------+

+:------------+:-------------+:-----------------------------------------+
| Additional  | time-limited | It is generated by the enterprise        |
| Information | password     | platform server, and the time-limited    |
|             |              | password of the government platform      |
|             |              | client in the home region is different   |
|             |              | from that of the cross-domain regional   |
|             |              | government platform. The aging password  |
|             |              | should only consist of English letters   |
|             |              | (including upper and lower case) and     |
|             |              | Arabic numerals, with a length of 64     |
|             |              | ASCII characters, and should be updated  |
|             |              | every 24h                                |
|             +--------------+------------------------------------------+
|             | location     | The satellite positioning time and       |
|             | marker       | latitude and longitude of the vehicle at |
|             |              | any time within 5 minutes are used for   |
|             |              | verification when accessing the          |
|             |              | cross-domain regional government         |
|             |              | platform, and can be empty when the      |
|             |              | client of the home region government     |
|             |              | platform accesses. ASCII                 |
|             |              |                                          |
|             |              | character representation, the format is: |
|             |              |                                          |
|             |              | YYYYMMDD - HHMMSS - NXX. XXXXXX - EXXX.  |
|             |              | XXXXXX                                   |
+-------------+--------------+------------------------------------------+

**7. Basics of Communication Protocols Between Video Platforms**

The communication method, data type, security authentication method and
protocol message format between different video platforms are in
accordance with the requirements of Chapter 4 in JT/T 809-2011.

Data transmission between different video platforms does not require
authentication, and the transmission channel should use the link that
has been established between the positioning platforms, and no new link
will be added.

**8. Communication protocol process between video platforms 8. 1
Time-limited password reporting and request business class**

The time-limited password is automatically generated by the enterprise
video surveillance platform every day, and is actively uploaded to the
local government video supervision platform. The local government video
supervision platform will actively upload it to the higher-level
government video supervision platform after receiving the day\'s
time-limited password. When the cross-domain government video
supervision platform needs to access the audio and video information of
the cross- domain vehicle, it should request the cross-domain
time-limited password from the higher-level government video supervision
platform.

**8. 2 Real-time audio and video services**

**8. 2. 1 The enterprise video surveillance platform uploads real-time
audio and video data to the government video surveillance platform.**

The government video surveillance platform sends a real-time audio and
video upload request to the enterprise video surveillance platform.
After the enterprise video surveillance platform receives the request,
it should respond to the government video surveillance platform. If the
response is successful, the government video surveillance platform will
request real-time audio and video data from the video server IP and port
specified by the enterprise video surveillance platform.

**8. 2. 2 Enterprise video surveillance platforms stop uploading
real-time audio and video data to government video surveillance
platforms.**

The government video surveillance platform sends a request to stop
real-time audio and video uploading to the enterprise video surveillance
platform. After the enterprise video surveillance platform receives the
request, it should respond to the government video surveillance
platform. If the answer is successful, the enterprise video surveillance
platform stops sending real-time audio and video data to the government
video surveillance platform.

**8. 3 Remote video retrieval business class**

**8. 3. 1 The government video monitoring platform obtains the audio and
video resource directory from the enterprise video monitoring platform**

The government video surveillance platform sends a request for obtaining
the audio and video resource directory to the enterprise video
surveillance platform. After receiving the request, the enterprise video
surveillance platform should immediately retrieve the latest audio and
video resource directory from the terminal, update the local directory,
and send it to the government video surveillance platform. answer. If
the response result is successful, the enterprise video surveillance
platform will send the audio and video resource directory data to the
government video surveillance platform.

**8. 3. 2 The enterprise video surveillance platform actively uploads
the audio and video resource directory to the government video
surveillance platform**

After the enterprise video surveillance platform receives the special
alarm information uploaded by the terminal, after waiting for the
complete recording of the video information, it should search the
terminal for the latest audio and video resource directory with special
alarm signs, and update the local directory to the government video
surveillance platform. Actively upload audio and video resource
directory.

**8. 4 Remote video download business**

**8. 4. 1 The government video surveillance platform downloads video
data from the enterprise video surveillance platform**

The government video surveillance platform sends a request to obtain
video data to the enterprise video surveillance platform. After the
enterprise video surveillance platform receives the request, it shall
respond to the government video surveillance platform. If the response
result is successful, the government video surveillance platform can
request recording data from the FTP server IP and port specified by the
enterprise video surveillance platform.

**8. 4. 2 The enterprise video surveillance platform sends a download
completion notification to the government video surveillance platform**

The enterprise video surveillance platform sends a download completion
notification to the government video surveillance platform. After the
government video surveillance platform receives the notification, it
means that the video data has been downloaded from the terminal. The
government video surveillance platform can send the IP and port of the
video FTP server designated by the enterprise video surveillance
platform. Request recording data.

**8. 4. 3 The government video surveillance platform sends download
control instructions to the enterprise video surveillance platform**

The government video surveillance platform sends download control
instructions to the enterprise video surveillance platform. After the
enterprise video surveillance platform receives the instruction, it
should respond to the corresponding control actions in a timely manner
and respond to the government video surveillance platform。

**8. 5 Remote video playback business**

**8. 5. 1 The government video surveillance platform requests video
playback from the enterprise video surveillance platform**

The government video surveillance platform sends a video playback
request to the enterprise video surveillance platform. After the
enterprise video surveillance platform receives the request, it should
reply to the government video supervision platform. If the response
result is successful, the government video surveillance platform will
request historical audio and video stream data from the IP and port of
the audio and video streaming server designated by the enterprise video
surveillance platform.

**8.5.2 Government video surveillance platforms stop requesting video
playback from enterprise video surveillance platforms**

The government video surveillance platform sends a request to stop the
video playback to the enterprise video surveillance platform. After
receiving the request, the enterprise video surveillance platform should
respond to the government video surveillance platform and stop sending
historical

audio and video stream data to the government video surveillance
platform.

**9. Definition of Communication Protocol Constants Between Video
Platforms**

**9.1 Business data type identifier**

See Table 36 for the names and identifiers of service data types
specified by the audio and video data exchange protocol.

**Table36 Business data type name and identification comparison table**

+:-------------+:--------------+:---------+:-----------------+:----------+
| **Message    | **business    | **Messag | **Business data  | **Value** |
| Type**       | data type     | e link** | type             |           |
|              | name**        |          | identifier**     |           |
+--------------+---------------+----------+------------------+-----------+
| Time-limited | Main link     | Main     | UP AUTHORIZE MSG | 1700      |
| password     | aging         | link     |                  |           |
| business     | password      |          |                  |           |
| class        | exchange      |          |                  |           |
|              | message       |          |                  |           |
|              +---------------+----------+------------------+-----------+
|              | Slave link    | Slave    | DOWN AUTHORIZE   | 9700      |
|              | aging         | link     | MSG              |           |
|              | password      |          |                  |           |
|              | exchange      |          |                  |           |
|              | message       |          |                  |           |
+--------------+---------------+----------+------------------+-----------+
| Real-time    | Main link     | Main     | UP REALVIDEO MSG | 1800      |
| audio and    | real-time     | link     |                  |           |
| video        | audio and     |          |                  |           |
| services     | video         |          |                  |           |
|              | interactive   |          |                  |           |
|              | messages      |          |                  |           |
|              +---------------+----------+------------------+-----------+
|              | Slave link    | Slave    | DOWN REALVIDEO   | 9800      |
|              | real-time     | link     | MSG              |           |
|              | audio and     |          |                  |           |
|              | video         |          |                  |           |
|              | interactive   |          |                  |           |
|              | messages      |          |                  |           |
+--------------+---------------+----------+------------------+-----------+
| Remote video | Main link     | Main     | UP SEARCH MSG    | 1900      |
| retrieval    | remote        | link     |                  |           |
|              | recording     |          |                  |           |
|              | retrieval     |          |                  |           |
|              | interactive   |          |                  |           |
|              | message       |          |                  |           |
|              +---------------+----------+------------------+-----------+
|              | Slave link    | Slave    | DOWN SEARCH MSG  | 9900      |
|              | remote        | link     |                  |           |
|              | recording     |          |                  |           |
|              | retrieval     |          |                  |           |
|              | interactive   |          |                  |           |
|              | message       |          |                  |           |
+--------------+---------------+----------+------------------+-----------+
| Remote video | Main link     | Main     | UP PLAYBACK MSG  | 1A00      |
| playback     | remote video  | link     |                  |           |
|              | playback      |          |                  |           |
|              | interactive   |          |                  |           |
|              | message       |          |                  |           |
|              +---------------+----------+------------------+-----------+
|              | Slave link    | Slave    | DOWN PLAYBACK    | 9A00      |
|              | remote video  | link     | MSG              |           |
|              | playback      |          |                  |           |
|              | interactive   |          |                  |           |
|              | message       |          |                  |           |
+--------------+---------------+----------+------------------+-----------+

+:----------+:--------------+:---------+:-----------------+---------:+
| Remote    | Main link     | Main     | UP DOWNLOAD MSG  | 1B00     |
| video     | remote video  | link     |                  |          |
| download  | download      |          |                  |          |
|           | interactive   |          |                  |          |
|           | message       |          |                  |          |
|           +---------------+----------+------------------+----------+
|           | Slave link    | Slave    | DOWN DOWNLOAD    | 9B00     |
|           | remote video  | link     | MSG              |          |
|           | download      |          |                  |          |
|           | interactive   |          |                  |          |
|           | message       |          |                  |          |
+-----------+---------------+----------+------------------+----------+

**9. 2 Sub-Business Type Identifier**

See Table 37 for the sub-service type names and identifiers specified in
the data exchange protocol.

**Table 37Sub-business type name and logo comparison table**

+:---------------+:-------------+:------------------------------+:----------+
| **Business     | **Sub        | **Sub-business data type      | **Value** |
| data type**    | business     | identifier**                  |           |
|                | type name**  |                               |           |
+----------------+--------------+-------------------------------+-----------+
| 主链路时效口令 | Aging        | UP AUTHORIZE MSG STARTUP      | 1701      |
| 业务类消 息 UP | password     |                               |           |
|                | report       |                               |           |
| AUTHORIZE MSG  | message      |                               |           |
|                +--------------+-------------------------------+-----------+
|                | Aging        | UP AUTHORIZE MSG STARTUP REQ  | 1702      |
|                | request      |                               |           |
|                | message      |                               |           |
+----------------+--------------+-------------------------------+-----------+
| 从链路时效口令 | Aging        | DOWN AUTHORIZE MSG STARTUP    | 9702      |
| 业务类消 息    | Password     | REQ ACK                       |           |
|                |              |                               |           |
| DOWN BASE DATA | Request      |                               |           |
|                | Reply        |                               |           |
| MSG            | Message      |                               |           |
+----------------+--------------+-------------------------------+-----------+
| 主链路实时音视 | Real-time    | UP REALVIDEO MSG STARTUP ACK  | 1801      |
| 频交互消 息 UP | audio and    |                               |           |
|                | video        |                               |           |
| REALVIDEO MSG  | request      |                               |           |
|                | response     |                               |           |
|                | message      |                               |           |
|                +--------------+-------------------------------+-----------+
|                | Actively     | UP REALVIDEO MSG END ACK      | 1802      |
|                | request to   |                               |           |
|                | stop         |                               |           |
|                | real-time    |                               |           |
|                | audio and    |                               |           |
|                | video        |                               |           |
|                | transmission |                               |           |
|                | response     |                               |           |
|                | message      |                               |           |
+----------------+--------------+-------------------------------+-----------+
| 从链路实时音视 | Real-time    | DOWN REALVIDEO MSG STARTUP    | 9801      |
| 频交互消 息    | audio and    |                               |           |
|                | video        |                               |           |
|                | requests     |                               |           |
|                | information  |                               |           |
+----------------+--------------+-------------------------------+-----------+

DOWN REALVIDEO

MSG

![page36image4162576.png](media/image1.png){width="1.2397200349956256e-2in"
height="8.99986111111111in"}
![page36image4162576.png](media/image1.png){width="1.2397200349956256e-2in"
height="8.99986111111111in"}

主链路远程录像

检索交互消息 UP SEARCH MSG

从链路远程录像 检索交互消息

DOWN SEARCH MSG

主链路远程录像 回放交互消息 UP

PLAYBACK MSG

从链路远程录像 回放交互 消 息

DOWN PLAY- BACK MSG

Actively request to stop real-time audio and video transmission messages

Actively upload audio and video resource directory information messages

Query audio and video resources Reply message

Actively upload audio and video resource directory information response
message

Query the audio and video resource directory request message

Remote video playback request response message

Remote video playback control response message

Remote video playback request message

Remote video playback control message

DOWN REALVIDEO MSG END

UP FILELIST MSG

UP REALVIDEO FILELIST REQ ACK

DOWN FILELIST MSG ACK

DOWN REALVIDEO FILELIST REQ

UP PLAYBACK MSG STARTUP ACK

UP PLAYBACK MSG CONTROL ACK

DOWN PLAYBACK MSG STARTUP

DOWN PLAYBACK MSG CONTROL

0x9802

0x1901

0x1902

0x9901

0x9902

0x1A01

0x1A02

0x9A01

0x9A02

![page36image4172976.png](media/image2.png){width="4.916666666666667in"
height="1.3888888888888888e-2in"}
![page36image4172352.png](media/image3.png){width="6.402777777777778in"
height="1.3888888888888888e-2in"}
![page36image4172976.png](media/image2.png){width="4.916666666666667in"
height="1.3888888888888888e-2in"}
![page36image4172352.png](media/image3.png){width="6.402777777777778in"
height="1.3888888888888888e-2in"}
![page36image4172976.png](media/image2.png){width="4.916666666666667in"
height="1.3888888888888888e-2in"}
![page36image4172352.png](media/image3.png){width="6.402777777777778in"
height="1.3888888888888888e-2in"}
![page36image4172976.png](media/image2.png){width="4.916666666666667in"
height="1.3888888888888888e-2in"}

+:---------------+:-------------+:------------------------------+:------+
| 主链路远程录像 | Remote video | UP DOWNLOAD MSG STARTUP ACK   | 0x1B  |
| 下载交互消息   | download     |                               | 01    |
| UP             | request      |                               |       |
|                | response     |                               |       |
| DOWNLOAD MSG   | message      |                               |       |
|                +--------------+-------------------------------+-------+
|                | Remote video | UP DOWNLOAD MSG END INFORM    | 0x1B  |
|                | download     |                               | 02    |
|                | completion   |                               |       |
|                | notification |                               |       |
|                | message      |                               |       |
|                +--------------+-------------------------------+-------+
|                | Remote video | UP DOWNLOAD MSG CONTROL ACK   | 0x1B  |
|                | download     |                               | 03    |
|                | control      |                               |       |
|                | response     |                               |       |
|                | message      |                               |       |
+----------------+--------------+-------------------------------+-------+
| 从链路远程录像 | Remote video | DOWN DOWNLOAD MSG STARTUP     | 0x9B  |
| 下载交互 消 息 | download     |                               | 01    |
|                | request      |                               |       |
| DOWN DOWN-     | message      |                               |       |
| LOAD MSG       |              |                               |       |
|                +--------------+-------------------------------+-------+
|                | Remote video | UP DOWNLOAD MSG END INFORM    | 0x9B  |
|                | download     | ACK                           | 02    |
|                | complete     |                               |       |
|                | notification |                               |       |
|                | response     |                               |       |
|                | message      |                               |       |
|                +--------------+-------------------------------+-------+
|                | Remote video | DOWN DOWNLOAD MSG CONTROL     | 0x9B  |
|                | download     |                               | 03    |
|                | control      |                               |       |
|                | message      |                               |       |
+----------------+--------------+-------------------------------+-------+

**9.3 Video Alarm Type Coding**

See Table 38 for video alarm type codes reported through the platform.

**Table 38 Vehicle Video Alarm Type Code Table**

  ----------------------- ----------------------- -----------------------
  **Code**                **Name**                **Description &
                                                  Request**

  101                     Video signal loss alarm ---

  102                     Video signal blocking   ---
                          alarm                   

  103                     Storage unit failure    ---
                          alarm                   

  104                     Other video equipment   ---
                          failure alarm           

  105                     Bus overload alarm      ---

  106                     Abnormal driving        ---
                          behavior alarm          

  107                     Special alarm recording ---
                          reaches the storage     
                          threshold alarm         
  ----------------------- ----------------------- -----------------------

**10. Communication protocol data body format between video platforms**

**10.1 Time-limited password reporting and request business class**

**10. 1. 1 Aging password report message**

Link Type: Main link\
Message direction: lower platform to upper platform\
Sub-Business Type Identifier:UP AUTHORIZE MSG STARTUP。

Description: The enterprise video surveillance platform actively reports
the time-limited password to the government video surveillance platform
or the lower-level government video surveillance platform to the
higher-level government video surveillance platform. See Table 39 for
the data body. This command does not need to be answered.

**Table 39 Aging password reporting message data body**

  ---------------- ------------- ------------- --------------------------
  **Field name**   **Bit No.**   **Data Type** **Description & request**

  DATA TYPE        2             uint16 t      Sub-Business Type
                                               Identifier
  ---------------- ------------- ------------- --------------------------

  ---------------- ------------- ------------- --------------------------
  PLATEFORM ID                11 BYTES         The unique code of the
                                               enterprise video
                                               surveillance platform, the
                                               administrative division
                                               code of the enterprise to
                                               which the platform
                                               belongs + the platform
                                               announcement number

  AUTHORIZE CODE 1            64 BYTES         The time-limited password
                                               used by the local
                                               government platform

  AUTHORIZE CODE 2            64 BYTES         Time-limited passwords
                                               used by cross-domain
                                               regional government
                                               platforms
  ---------------- ------------- ------------- --------------------------

**10. 1. 2 Aging Password Request Message**

Link Type: Main link

News direction: Cross-regional government video supervision platform to
higher-level government video supervision platform

Sub-Business Type Identifier:UP AUTHORIZE MSG STARTUP REQ.

Description: The cross-regional government video surveillance platform
obtains the same-day validity password of the video surveillance
platform of the enterprise where the designated vehicle is located from
the higher-level government video surveillance platform. See Table 40
for the data body.

**Table 40 Aging password request message data body**

  ---------------- ------------- ------------- --------------------------
  **Field name**   **Bit No.**   **Data Type** **Description & request**

  VEHICLE NO       21            Octet String  License Plate Number

  VEHICLE COLOR    1             BYTE          License plate color, as
                                               specified in 5.4.12 of
                                               JT/T 415-2006

  DATA TYPE        2             uint16 t      Sub-Business Type
                                               Identifier

  DATA LENGTH      4             uint32 t      Subsequent data length,
                                               the value is 0x00000000
  ---------------- ------------- ------------- --------------------------

**10. 1. 3 Aging Password Request Reply Message**

Link Type: Slave Link

Direction of news: Higher-level government video supervision platform to
cross-regional government video supervision platform

Sub-Business Type Identifier:DOWN AUTHORIZE MSG STARTUP REQ ACK .\
Description: The superior government video supervision platform responds
to the time-limited password

request message sent by the cross-regional government video supervision
platform, and the superior government video supervision platform
determines the content of the response according to the geographic
location of the requesting vehicle within 5 minutes. The data body is
shown in Table 41.

**Table 41 Aging password request response message data body**

  ---------------- ------------- ------------- --------------------------
  **Field name**   **Bit No.**   **Data Type** **Description & request**

  VEHICLE NO       21            Octet String  License Plate Number

  VEHICLE COLOR    1             BYTE          License plate color, as
                                               specified in 5.4.12 of
                                               JT/T 415-2006

  DATA TYPE        2             uint16 t      Sub-Business Type
                                               Identifier

  DATA LENGTH      4             uint32 t      Subsequent 2 fields data
                                               length
  ---------------- ------------- ------------- --------------------------

**10. 2 Real-time audio and video services\
10. 2. 1 Real-time audio and video request messages**

Link Type: Slave Link\
Message direction: the initiator platform to the receiver platform
Sub-Business Type Identifier:DOWN REALVIDEO MSG STARTUP。

Description: The government video supervision platform issues the order
to request the real-time audio and video of the vehicle to the
enterprise video surveillance platform, the upper-level government
platform to the lower-level government platform, or the cross-domain
regional government platform to the home region government platform. The
data body is shown in Table 42.

**Table 42 Real-time audio and video request data body**

  ---------------- ------------- ------------- --------------------------
  **Field name**   **Bit No.**   **Data Type** **Description & request**

  VEHICLE NO       21            Octet String  License Plate Number

  VEHICLE COLOR    1             BYTE          License plate color, as
                                               specified in 5.4.12 of
                                               JT/T 415-2006

  DATA TYPE        2             uint16 t      Sub-Business Type
                                               Identifier

  DATA LENGTH      4             uint32 t      Subsequent 4 fields data
                                               length

  CHANNEL ID       1             BYTE          Logical channel number,
                                               according to Table 2 in
                                               JT/T 1076---2016, 0 means
                                               all channels
  ---------------- ------------- ------------- --------------------------

  ---------------- ------------- ------------- --------------------------
  AVITEM TYPE                  1 BYTE          Audio and video types,
                                               defined as follows:\
                                               0x00: audio and video;
                                               0x01: audio; 0x02: video

  AUTHORIZE CODE              64 BYTES         time-limited password

  GNSS DATA                   36 BYTES         Any position within 5
                                               minutes after the vehicle
                                               enters the cross-domain
                                               area, this field is only
                                               used for cross-domain
                                               access requests, in
                                               accordance with the
                                               provisions of JT/T
                                               809-2011 protocol 4.5.8.1
  ---------------- ------------- ------------- --------------------------

**10. 2. 2 Real-time audio and video request response message**

Link Type: Main Link\
Message direction: the receiver platform to the initiator platform
Sub-Business Type Identifier:UP REALVIDEO MSG STARTUP ACK。

Description: The enterprise video surveillance platform responds to the
vehicle real-time audio and video request message sent by the government
video surveillance platform. The data body is shown in Table 43.

**Table 43 Real-time audio and video response data body**

+:--------------+:------------+:------------+:------------------------+
| **Field       | **Bit No.** | **Data      | **Description &         |
| name**        |             | Type**      | request**               |
+---------------+-------------+-------------+-------------------------+
| VEHICLE NO    | 21          | Octet       | License Plate Number    |
|               |             | String      |                         |
+---------------+-------------+-------------+-------------------------+
| VEHICLE COLOR | 1           | BYTE        | License plate color, as |
|               |             |             | specified in 5.4.12 of  |
|               |             |             | JT/T 415-2006           |
+---------------+-------------+-------------+-------------------------+
| DATA TYPE     | 2           | uint16 t    | Sub-Business Type       |
|               |             |             | Identifier              |
+---------------+-------------+-------------+-------------------------+
| DATA LENGTH   | 4           | uint32 t    | Subsequent 3 fields     |
|               |             |             | data length             |
+---------------+-------------+-------------+-------------------------+
| RESULT        | 1           | BYTE        | The response result is  |
|               |             |             | defined as follows:     |
|               |             |             | 0x00: success;\         |
|               |             |             | 0x01: failed;\          |
|               |             |             | 0x02: not supported;    |
|               |             |             |                         |
|               |             |             | 0x03: session ended;\   |
|               |             |             | 0x04: The aging         |
|               |             |             | password is incorrect;\ |
|               |             |             | 0x05: Cross-domain      |
|               |             |             | conditions are not met  |
+---------------+-------------+-------------+-------------------------+

  ---------------- ------------- ------------- --------------------------
  SERVER IP                   32 Octet String  Enterprise Video Server IP
                                               Address

  SERVER PORT                  2 uint16 t      Enterprise Video Server
                                               Port Number
  ---------------- ------------- ------------- --------------------------

**10. 2. 3 Actively request to stop real-time audio and video
transmission messages**

Link Type: Slave Link\
News direction: government video supervision platform to enterprise
video surveillance platform

Sub-Business Type Identifier:DOWN REALVIDEO MSG END。

Description: The government video monitoring platform issues this order
to the enterprise video monitoring platform, and actively requests to
stop the real-time audio and video transmission of the vehicle. Data
body see Table 44.

**Table 44 Actively request to stop real-time audio and video message
data body**

  ---------------- ------------- ------------- --------------------------
  **Field name**   **Bit No.**   **Data Type** **Description & request**

  VEHICLE NO       21            Octet String  License Plate Number

  VEHICLE COLOR    1             BYTE          License plate color, as
                                               specified in 5.4.12 of
                                               JT/T 415-2006

  DATA TYPE        2             uint16 t      Sub-Business Type
                                               Identifier

  DATA LENGTH      4             uint32 t      Subsequent 2 fields data
                                               length

  CHANNEL ID       1             BYTE          Logical channel number,
                                               according to Table 2 in
                                               JT/T 1076---2016, 0 means
                                               all channels

  AVITEM TYPE      1             BYTE          Audio and video types,
                                               defined as follows:\
                                               0x00: audio and video;
                                               0x01: audio; 0x02: video
  ---------------- ------------- ------------- --------------------------

**10. 2. 4 Actively request to stop real-time audio and video
transmission response message**

Link Type: Main Link\
News direction: enterprise video surveillance platform to government
video surveillance platform

Sub-Business Type Identifier:UP REALVIDEO MSG END ACK.

Description: The enterprise video surveillance platform responds to the
active request sent by the government video surveillance platform to
stop the real-time audio and video transmission message. The data body
is shown in Table 45.

**Table 45 Actively request to stop real-time audio and video response
message data body**

+:--------------+:------------+:------------+:------------------------+
| **Field       | **Bit No.** | **Data      | **Description &         |
| name**        |             | Type**      | request**               |
+---------------+-------------+-------------+-------------------------+
| VEHICLE NO    | 21          | Octet       | License Plate Number    |
|               |             | String      |                         |
+---------------+-------------+-------------+-------------------------+
| VEHICLE COLOR | 1           | BYTE        | License plate color, as |
|               |             |             | specified in 5.4.12 of  |
|               |             |             | JT/T 415-2006           |
+---------------+-------------+-------------+-------------------------+
| DATA TYPE     | 2           | uint16 t    | Sub-Business Type       |
|               |             |             | Identifier              |
+---------------+-------------+-------------+-------------------------+
| DATA LENGTH   | 4           | uint32 t    | Subsequent 1 fields     |
|               |             |             | data length             |
+---------------+-------------+-------------+-------------------------+
| RESULT        | 1           | BYTE        | The response result is  |
|               |             |             | defined as follows:     |
|               |             |             | 0x00: success;\         |
|               |             |             | 0x01: failed;\          |
|               |             |             | 0x02: not supported;    |
|               |             |             |                         |
|               |             |             | 0x03: Session ended     |
+---------------+-------------+-------------+-------------------------+

**10. 3 Remote video retrieval\
10. 3. 1 Actively upload audio and video resource directory information
messages**

Link Type: Main Link\
Message direction: lower platform to upper platform Sub-Business Type
Identifier:UP FILELIST MSG

Description: The enterprise video surveillance platform actively sends
audio and video resource catalogs with special alarm signs to the
government video supervision platform, or the lower-level government
platform to the upper-level government platform. Data body see Table 46.

**Table 46 Actively upload audio and video resource catalog data body**

  ---------------- ------------- ------------- --------------------------
  **Field name**   **Bit No.**   **Data Type** **Description & request**

  VEHICLE NO       21            Octet String  License Plate Number

  VEHICLE COLOR    1             BYTE          License plate color, as
                                               specified in 5.4.12 of
                                               JT/T 415-2006

  DATA TYPE        2             uint16 t      Sub-Business Type
                                               Identifier

  DATA LENGTH      4             uint32 t      Subsequent 2 fields data
                                               length

  ITEM NUM         4             uint32 t      Total number of resource
                                               catalog items

  ITEM LIST                                    List of resource directory
                                               items, see Table 47
  ---------------- ------------- ------------- --------------------------

**Table 47 Upload audio and video resource directory item list format**

  ---------------- ------------- ------------- --------------------------
  **Field name**   **Bit No.**   **Data Type** **Description & request**

  CHANNEL ID       1             BYTE          Logical channel number,
                                               according to Table 2 in
                                               JT/T 1076---2016, 0 means
                                               all channels

  START TIME       8             time t        UTC Time

  END TIME         8             time t        UTC Time

  ALARM TYPE       8             64BITS        Bit0-31 is defined
                                               according to JT/T
                                               808---2011 Table 18 alarm
                                               flag bit; bit32-63 see
                                               Table 10

  AVITEM TYPE      1             BYTE          Audio and video types,
                                               defined as follows:\
                                               0x00: audio and video;
                                               0x01: audio; 0x02: video

  STREAM TYPE      1             BYTE          Stream type, defined as
                                               follows: 0x01: Main
                                               stream; 0x02: Sub stream

  MEM TYPE         1             BYTE          Memory type, defined as
                                               follows: 0x01: main
                                               memory; 0x02: disaster
                                               recovery memory

  FILE SIZE        4             uint32 t      file size in bytes (BYTE)
  ---------------- ------------- ------------- --------------------------

**10. 3. 2 Actively upload audio and video resource directory response
message**

Link Type: Slave Link\
Message direction: upper platform to lower platform Sub-Business Type
Identifier:DOWN FILELIST MSG ACK。

Description: The government video surveillance platform responds to the
request message for the active upload of audio and video resource
catalogs sent by the enterprise video surveillance platform. The data
body is shown in Table 48.

**Table 48 Actively upload the audio and video resource directory
request response data body**

  ---------------- ------------- ------------- --------------------------
  **Field name**   **Bit No.**   **Data Type** **Description & request**

  VEHICLE NO       21            Octet String  License Plate Number

  VEHICLE COLOR    1             BYTE          License plate color, as
                                               specified in 5.4.12 of
                                               JT/T 415-2006
  ---------------- ------------- ------------- --------------------------

+:--------------+------------:+:------------+:------------------------+
| DATA TYPE     | 2           | uint16 t    | Sub-Business Type       |
|               |             |             | Identifier              |
+---------------+-------------+-------------+-------------------------+
| DATA LENGTH   | 4           | uint32 t    | Subsequent 2 fields     |
|               |             |             | data length             |
+---------------+-------------+-------------+-------------------------+
| RESULT        | 1           | BYTE        | The response result is  |
|               |             |             | defined as follows:     |
|               |             |             | 0x00: success;\         |
|               |             |             | 0x01: failed;\          |
|               |             |             | 0x02: not supported;    |
|               |             |             |                         |
|               |             |             | 0x03: Session ended     |
+---------------+-------------+-------------+-------------------------+
| ITEM NUMBER   | 1           | BYTE        | Total number of         |
|               |             |             | resource directories    |
+---------------+-------------+-------------+-------------------------+

**10. 3. 3 Query the audio and video resource directory request
message**

Link Type: Slave Link\
Message direction: upper platform to lower platform\
Sub-Business Type Identifier:DOWN REALVIDEO FILELIST REQ。

Description: The government video supervision platform sends a request
message to the enterprise video surveillance platform, or the
upper-level government platform to the lower-level government platform
to query the audio and video resource directory. The data body is shown
in Table 49.

**Table 49 Query the audio and video resource directory request data
body**

  ---------------- ------------- ------------- --------------------------
  **Field name**   **Bit No.**   **Data Type** **Description & request**

  VEHICLE NO       21            Octet String  License Plate Number

  VEHICLE COLOR    1             BYTE          License plate color, as
                                               specified in 5.4.12 of
                                               JT/T 415-2006

  DATA TYPE        2             uint16 t      Sub-Business Type
                                               Identifier

  DATA LENGTH      4             uint32 t      Subsequent 9 fields data
                                               length

  CHANNEL ID       1             BYTE          Logical channel number,
                                               according to Table 2 in
                                               JT/T 1076---2016, 0 means
                                               all channels

  START TIME       8             time t        Start time,
                                               YY-MM-DD-HH-MM- SS, all 0s
                                               Indicates no start time
                                               condition.

  END TIME         8             time t        End time, YY-MM-DD-HH-MM-
                                               SS, all 0s Indicates no
                                               end time condition.
  ---------------- ------------- ------------- --------------------------

  ---------------- ------------- ------------- --------------------------
  ALARM TYPE                   8 BYTES         alarm type,\
                                               Bit0-31 see the alarm flag
                                               bit definition in Table 18
                                               in JT/T 808---2011;\
                                               bit32-63 see Table 9;\
                                               All 0s indicate no alarm
                                               type condition

  AVITEM TYPE                  1 BYTE          Audio and video type, 0:
                                               audio and video; 1: audio;
                                               2: video, 3: video or
                                               audio and video

  STREAM TYPE                  1 BYTE          Code stream type, 0: all
                                               code streams, 1: main code
                                               stream, 2: sub code stream

  MEM TYPE                     1 BYTE          Storage type, 0: All
                                               storage 1: Main storage,
                                               2: Disaster recovery
                                               storage

  AUTHORIZE CODE              64 BYTES         time-limited password

  GNSS DATA                   36 BYTES         Any position within 5
                                               minutes after the vehicle
                                               enters the cross-domain
                                               area, this field is only
                                               used for cross-domain
                                               access requests, according
                                               to the protocol in JT/T
                                               809-2011 4.5.8.1
  ---------------- ------------- ------------- --------------------------

**10. 3. 4 Querying the audio and video resource directory response
message**

Link Type: Slave Link\
Message direction: lower platform to upper platform\
Sub-Business Type Identifier:UP REALVIDEO FILELIST REQ ACK。

Description: The enterprise video surveillance platform responds to the
government video surveillance platform or the lower-level government
platform responds to the audio and video resource directory message to
the upper-level government platform. The data body is shown in Table 50.

**Table 50 Query the audio and video resource directory response data
body**

  ---------------- ------------- ------------- --------------------------
  **Field name**   **Bit No.**   **Data Type** **Description & request**

  VEHICLE NO       21            Octet String  License Plate Number

  VEHICLE COLOR    1             BYTE          License plate color, as
                                               specified in 5.4.12 of
                                               JT/T 415-2006

  DATA TYPE        2             uint16 t      Sub-Business Type
                                               Identifier
  ---------------- ------------- ------------- --------------------------

+:--------------+------------:+:------------+:------------------------+
| DATA LENGTH   | 4           | uint32 t    | Subsequent 3 fields     |
|               |             |             | data length             |
+---------------+-------------+-------------+-------------------------+
| RESULT        | 1           | BYTE        | The response result is  |
|               |             |             | defined as follows:     |
|               |             |             | 0x00: success;\         |
|               |             |             | 0x01: failed; ;\        |
|               |             |             | 0x02: not supported     |
|               |             |             |                         |
|               |             |             | 0x03: session ended;\   |
|               |             |             | 0x04: The aging         |
|               |             |             | password is incorrect;\ |
|               |             |             | 0x05: Cross-domain      |
|               |             |             | conditions are not met  |
+---------------+-------------+-------------+-------------------------+
| ITEM NUM      | 4           | DWORD       | Total number of         |
|               |             |             | resource catalog items  |
+---------------+-------------+-------------+-------------------------+
| ITEM LIST     |             |             | List of resource        |
|               |             |             | directory items, see    |
|               |             |             | table 47                |
+---------------+-------------+-------------+-------------------------+

**10. 4 Remote video playback\
10. 4. 1 Remote video playback request message**

Link Type: Slave Link\
Message direction: the initiator platform to the receiver platform
Sub-Business Type Identifier:DOWN PLAYBACK MSG STARTUP。

Description: The government video supervision platform issues the order
to request the video, audio and video of the vehicle to the enterprise
video surveillance platform, the upper-level government platform to the
lower-level government platform, or the cross-domain regional government
platform to the local government platform. The data body is shown in
Table 51.

**Table 51 Remote video playback request data body**

  ---------------- ------------- ------------- --------------------------
  **Field name**   **Bit No.**   **Data Type** **Description & request**

  VEHICLE NO       21            Octet String  License Plate Number

  VEHICLE COLOR    1             BYTE          License plate color, as
                                               specified in 5.4.12 of
                                               JT/T 415-2006

  DATA TYPE        2             uint16 t      Sub-Business Type
                                               Identifier

  DATA LENGTH      4             uint32 t      Subsequent 8 fields data
                                               length

  CHANNEL ID       1             BYTE          Logical channel number,
                                               according to Table 2 in
                                               JT/T 1076---2016, 0 means
                                               all channels
  ---------------- ------------- ------------- --------------------------

  ---------------- ------------- ------------- --------------------------
  AVITEM TYPE                  1 BYTE          Audio and video type, 0:
                                               audio and video; 1: audio;
                                               2: video, 3: video or
                                               audio and video

  STREAM TYPE                  1 BYTE          Code stream type, 0: all
                                               code streams, 1: main code
                                               stream, 2: sub code stream

  MEM TYPE                     1 BYTE          Storage type, 0: All
                                               storage 1: Main storage,
                                               2: Disaster recovery
                                               storage

  PLAYBACK                     8 time          Playback start time，UTC
  STARTTIME                                    Time

  PLAYBACK ENDTIME             8 time t        Playback end time，UTC
                                               Time

  AUTHORIZE CODE              64 BYTES         time-limited password

  GNSS DATA                   36 BYTES         Any position within 5
                                               minutes after the vehicle
                                               enters the cross-domain
                                               area, this field is only
                                               used for cross-domain
                                               access requests, according
                                               to 4.5.8.1 in JT/T 809-
                                               2011
  ---------------- ------------- ------------- --------------------------

**10. 4. 2 Remote video playback request response message**

Link Type: Main Link\
Message direction: the receiver platform to the initiator platform
Sub-Business Type Identifier:UP PLAYBACK MSG STARTUP ACK。

Description: The enterprise video surveillance platform responds to the
government video supervision platform, the lower-level government
platform responds to the upper-level government platform or the home
region government platform responds to the video playback request
message sent by the cross-domain regional government platform. Data body
see Table 52.

**Table 52 Remote video playback response data body**

+:--------------+:------------+:------------+:------------------------+
| **Field       | **Bit No.** | **Data      | **Description &         |
| name**        |             | Type**      | request**               |
+---------------+-------------+-------------+-------------------------+
| VEHICLE NO    | 21          | Octet       | License Plate Number    |
|               |             | String      |                         |
+---------------+-------------+-------------+-------------------------+
| VEHICLE COLOR | 1           | BYTE        | License plate color, as |
|               |             |             | specified in 5.4.12 of  |
|               |             |             | JT/T 415-2006           |
+---------------+-------------+-------------+-------------------------+
| DATA TYPE     | 2           | uint16 t    | Sub-Business Type       |
|               |             |             | Identifier              |
+---------------+-------------+-------------+-------------------------+
| DATA LENGTH   | 4           | uint32 t    | Subsequent 3 fields     |
|               |             |             | data length             |
+---------------+-------------+-------------+-------------------------+
| SERVER IP     | 32          | Octet       | Enterprise Video Server |
|               |             | String      | IP Address              |
+---------------+-------------+-------------+-------------------------+
| SERVER PORT   | 2           | uint16 t    | Enterprise Video Server |
|               |             |             | Port Number             |
+---------------+-------------+-------------+-------------------------+
| RESULT        | 1           | BYTE        | The response result is  |
|               |             |             | defined as follows:     |
|               |             |             | 0x00: success;\         |
|               |             |             | 0x01: failed;\          |
|               |             |             | 0x02: not supported;    |
|               |             |             |                         |
|               |             |             | 0x03: session ended;\   |
|               |             |             | 0x04: The aging         |
|               |             |             | password is incorrect;\ |
|               |             |             | 0x05: Cross-domain      |
|               |             |             | conditions are not met  |
+---------------+-------------+-------------+-------------------------+

**10. 4. 3 Remote video playback control message**

Link Type: Slave Link\
Message direction: government video supervision platform to enterprise
video surveillance platform\
Sub-Business Type Identifier:DOWN PLAYBACK MSG CONTROL。

Description: The government video surveillance platform issues this
order to the enterprise video

surveillance platform to control playback. The data body is shown in
Table 53.

**Table 53 Remote video playback control data body**

+:--------------+:------------+:------------+:------------------------+
| **Field       | **Bit No.** | **Data      | **Description &         |
| name**        |             | Type**      | request**               |
+---------------+-------------+-------------+-------------------------+
| VEHICLE NO    | 21          | Octet       | License Plate Number    |
|               |             | String      |                         |
+---------------+-------------+-------------+-------------------------+
| VEHICLE COLOR | 1           | BYTE        | License plate color, as |
|               |             |             | specified in 5.4.12 of  |
|               |             |             | JT/T 415-2006           |
+---------------+-------------+-------------+-------------------------+
| DATA TYPE     | 2           | uint16 t    | Sub-Business Type       |
|               |             |             | Identifier              |
+---------------+-------------+-------------+-------------------------+
| DATA LENGTH   | 4           | uint32 t    | Subsequent 3 fields     |
|               |             |             | data length             |
+---------------+-------------+-------------+-------------------------+
| CONTROL TYPE  | 1           | BYTE        | 0x00: normal playback;  |
|               |             |             | 0x01: pause playback;\  |
|               |             |             | 0x02: End playback;     |
|               |             |             | 0x03: Fast forward      |
|               |             |             | playback;               |
|               |             |             |                         |
|               |             |             | 0x04: key frame fast    |
|               |             |             | rewind playback; 0x05:  |
|               |             |             | drag playback; 0x06:    |
|               |             |             | keyframe playback       |
+---------------+-------------+-------------+-------------------------+
| FAST TIME     | 1           | BYTE        | Fast-forward or         |
|               |             |             | fast-rewind multiple,   |
|               |             |             | when the playback       |
|               |             |             | control is 0x03 and     |
|               |             |             | 0x04, the content of    |
|               |             |             | this field is valid,    |
|               |             |             | otherwise it is set to  |
|               |             |             | 0. 0x00: invalid;\      |
|               |             |             | 0x01: 1x;\              |
|               |             |             | 0x02: 2 times;\         |
|               |             |             | 0x03: 4 times;\         |
|               |             |             | 0x04: 8 times;\         |
|               |             |             | 0x05: 16 times          |
+---------------+-------------+-------------+-------------------------+
| DATE TIME     | 8           | time t      | The drag position,      |
|               |             |             | expressed in UTC time,  |
|               |             |             | when the playback       |
|               |             |             | control is 0x05, the    |
|               |             |             | content of this field   |
|               |             |             | is valid                |
+---------------+-------------+-------------+-------------------------+

**10. 4. 4 Remote video playback control response message**

Link Type: Slave Link\
Message direction: enterprise video surveillance platform to government
video supervision platform\
Sub-Business Type Identifier:UP PLAYBACK MSG CONTROL ACK。

Description: The enterprise video surveillance platform responds to the
playback control message issued by the government video surveillance
platform. Data body see Table 54.

**Table 54 Remote video playback response data body**

+:--------------+:------------+:------------+:------------------------+
| **Field       | **Bit No.** | **Data      | **Description &         |
| name**        |             | Type**      | request**               |
+---------------+-------------+-------------+-------------------------+
| VEHICLE NO    | 21          | Octet       | License Plate Number    |
|               |             | String      |                         |
+---------------+-------------+-------------+-------------------------+
| VEHICLE COLOR | 1           | BYTE        | License plate color, as |
|               |             |             | specified in 5.4.12 of  |
|               |             |             | JT/T 415-2006           |
+---------------+-------------+-------------+-------------------------+
| DATA TYPE     | 2           | uint16 t    | Sub-Business Type       |
|               |             |             | Identifier              |
+---------------+-------------+-------------+-------------------------+
| DATA LENGTH   | 4           | uint32 t    | Subsequent 1 fields     |
|               |             |             | data length             |
+---------------+-------------+-------------+-------------------------+
| RESULT        | 1           | BYTE        | The response result is  |
|               |             |             | defined as follows:     |
|               |             |             | 0x00: success;\         |
|               |             |             | 0x01: failed;\          |
|               |             |             | 0x02: not supported;    |
|               |             |             |                         |
|               |             |             | 0x03: Session ended     |
+---------------+-------------+-------------+-------------------------+

**10. 5 Remote video download\
10. 5. 1 Remote video download request message**

Link Type: Slave Link\
Message direction: government video supervision platform to enterprise
video surveillance platform\
Sub-Business Type Identifier:DOWN DOWNLOAD MSG STARTUP。

Description: The government video surveillance platform issues this
order to the enterprise video surveillance platform to download the
video, audio and video of the vehicle. The data body is shown in Table
55.

**Table 55 Remote video download request data body**

+:--------------+:------------+:------------+:------------------------+
| **Field       | **Bit No.** | **Data      | **Description &         |
| name**        |             | Type**      | request**               |
+---------------+-------------+-------------+-------------------------+
| VEHICLE NO    | 21          | Octet       | License Plate Number    |
|               |             | String      |                         |
+---------------+-------------+-------------+-------------------------+
| VEHICLE COLOR | 1           | BYTE        | License plate color, as |
|               |             |             | specified in 5.4.12 of  |
|               |             |             | JT/T 415-2006           |
+---------------+-------------+-------------+-------------------------+
| DATA TYPE     | 2           | uint16 t    | Sub-Business Type       |
|               |             |             | Identifier              |
+---------------+-------------+-------------+-------------------------+
| DATA LENGTH   | 4           | uint32 t    | Subsequent 10 fields    |
|               |             |             | data length             |
+---------------+-------------+-------------+-------------------------+
| CHANNEL ID    | 1           | BYTE        | Logical channel number, |
|               |             |             | according to Table 2 in |
|               |             |             | JT/T 1076---2016, 0     |
|               |             |             | means all channels      |
+---------------+-------------+-------------+-------------------------+
| START TIME    | 8           | time t      | UTC Time                |
+---------------+-------------+-------------+-------------------------+
| END TIME      | 8           | time t      | UTC Time                |
+---------------+-------------+-------------+-------------------------+
| ALARM TYPE    | 8           | 64BITS      | bit0 \~ bit31 Refer to  |
|               |             |             | the definition          |
|               |             |             | ofAlarmsignofTable18of  |
|               |             |             | JT/T                    |
|               |             |             |                         |
|               |             |             | 808---2011 ;\           |
|               |             |             | bit32 \~ bit63 see      |
|               |             |             | table 10                |
+---------------+-------------+-------------+-------------------------+
| AVITEM TYPE   | 1           | BYTE        | Audio and video types,  |
|               |             |             | defined as follows:\    |
|               |             |             | 0x00: audio and video;  |
|               |             |             | 0x01: audio; 0x02:      |
|               |             |             | video                   |
+---------------+-------------+-------------+-------------------------+
| STREAM TYPE   | 1           | BYTE        | Stream type, defined as |
|               |             |             | follows: 0x01: Main     |
|               |             |             | stream; 0x02: Sub       |
|               |             |             | stream                  |
+---------------+-------------+-------------+-------------------------+

  ---------------- ------------- ------------- --------------------------
  MEM TYPE                     1 BYTE          Memory type, defined as
                                               follows: 0x01: main
                                               memory; 0x02: disaster
                                               recovery memory

  FILE SIZE                    4 uint32 t      file size in bytes (BYTE)

  AUTHORIZE CODE              64 BYTES         time-limited password

  GNSS DATA                   36 BYTES         Any location within 5
                                               minutes after the vehicle
                                               enters the cross-domain
                                               area, this field is only
                                               used for cross-domain
                                               access requests, see JT/T
                                               809-2011 Protocol 4.5.8.1
                                               for details
  ---------------- ------------- ------------- --------------------------

**10. 5. 2 Remote video download request response message**

Link Type: Main Link\
Message direction: enterprise video surveillance platform to government
video supervision platform\
Sub-Business Type Identifier:UP DOWNLOAD MSG STARTUP ACK.

Description: The enterprise video surveillance platform responds to the
request for downloading vehicle audio and video sent by the government
video surveillance platform. Data body see Table 56.

**Table 56 Remote video download request response data body**

  ---------------- ------------- ------------- --------------------------
  **Field name**   **Bit No.**   **Data Type** **Description & request**

  VEHICLE NO       21            Octet String  License Plate Number

  VEHICLE COLOR    1             BYTE          License plate color, as
                                               specified in 5.4.12 of
                                               JT/T 415-2006

  DATA TYPE        2             uint16 t      Sub-Business Type
                                               Identifier

  DATA LENGTH      4             uint32 t      Subsequent 2 fields data
                                               length
  ---------------- ------------- ------------- --------------------------

+:--------------+------------:+:------------+:------------------------+
| RESULT        | 1           | BYTE        | The response result is  |
|               |             |             | defined as follows:     |
|               |             |             | 0x00: success;\         |
|               |             |             | 0x01: failed; ;\        |
|               |             |             | 0x02: not supported     |
|               |             |             |                         |
|               |             |             | 0x03: session ended;\   |
|               |             |             | 0x04: The aging         |
|               |             |             | password is incorrect;\ |
|               |             |             | 0x05: Cross-domain      |
|               |             |             | conditions are not met  |
+---------------+-------------+-------------+-------------------------+
| SESSION ID    | 2           | uint16 t    | Corresponds to the      |
|               |             |             | serial number of the    |
|               |             |             | platform file upload    |
|               |             |             | message, valid when     |
|               |             |             | RESULT is 0             |
+---------------+-------------+-------------+-------------------------+

**10. 5. 3 Remote video download completion notification message**

Link Type: Slave Link\
Message direction: government video supervision platform to enterprise
video surveillance platform\
Sub-Business Type Identifier:UP DOWNLOAD MSG END INFORM。

Description: The enterprise video surveillance platform sends to the
government video surveillance platform to inform the government video
surveillance platform that the video file has been downloaded from the
terminal. The data body is shown in Table 5.

**Table 57 Remote video download completion notification data body**

  ---------------- ------------- ------------- --------------------------
  **Field name**   **Bit No.**   **Data Type** **Description & request**

  VEHICLE NO       21            Octet String  License Plate Number

  VEHICLE COLOR    1             BYTE          License plate color, as
                                               specified in 5.4.12 of
                                               JT/T 415-2006

  DATA TYPE        2             uint16 t      Sub-Business Type
                                               Identifier

  DATA LENGTH      4             uint32 t      Subsequent 7 fields data
                                               length

  RESULT           1             BYTE          0x00: success, 0x01:
                                               failed

  SESSION ID       2             uint16 t      Corresponds to the serial
                                               number of the platform
                                               file upload message, valid
                                               when RESULT is 0

  SERVER IP        32            Octet String  FTP server ip address,
                                               when RESULT is 0\
                                               efficient
  ---------------- ------------- ------------- --------------------------

  ---------------- ------------- ------------- --------------------------
  TCP PORT                     2 uint16 t      FTP port, valid when
                                               RESULT is 0

  USERNAEM                    49 Octet String  FTP User name, valid when
                                               RESULT is 0

  PASSWORD                    22 Octet String  FTP Password, valid when
                                               RESULT is 0

  FILE PATH                  200 Octet String  File storage path， valid
                                               when RESULT is 0
  ---------------- ------------- ------------- --------------------------

**10. 5. 4 Remote video download complete notification response
message**

Link Type: Slave Link\
Message direction: government video supervision platform to enterprise
video surveillance platform\
Sub-Business Type Identifier:UP DOWNLOAD MSG END INFORM ACK。
Description: The government video surveillance platform responds to the
notification of the download completion of the enterprise video
surveillance platform. Data body see Table 58.

**Table 58 Remote video download completion notification response data
body**

  ---------------- ------------- ------------- --------------------------
  **Field name**   **Bit No.**   **Data Type** **Description & request**

  VEHICLE NO       21            Octet String  License Plate Number

  VEHICLE COLOR    1             BYTE          License plate color, as
                                               specified in 5.4.12 of
                                               JT/T 415-2006

  DATA TYPE        2             uint16 t      Sub-Business Type
                                               Identifier

  DATA LENGTH      4             uint32 t      Subsequent 2 fields data
                                               length

  RESULT           1             BYTE          Response result: 0x00:
                                               success; 0x01: failed;\
                                               0x02: not supported;\
                                               0x03: Session ended

  SESSION ID       2             uint16 t      Corresponds to the serial
                                               number of the platform
                                               file upload message, valid
                                               when RESULT is 0
  ---------------- ------------- ------------- --------------------------

**10. 5. 5 Remote video download control request message**

Link Type: Slave Link\
Message direction: government video supervision platform to enterprise
video surveillance platform\
Sub-Business Type Identifier:DOWN DOWNLOAD MSG CONTROL。

Description: The government video surveillance platform sends a download
control message to the enterprise video surveillance platform. The data
body is shown in Table 59。

**Table 59 Remote video download control request data body**

  ---------------- ------------- ------------- --------------------------
  **Field name**   **Bit No.**   **Data Type** **Description & request**

  VEHICLE NO       21            Octet String  License Plate Number

  VEHICLE COLOR    1             BYTE          License plate color, as
                                               specified in 5.4.12 of
                                               JT/T 415-2006

  DATA TYPE        2             uint16 t      Sub-Business Type
                                               Identifier

  DATA LENGTH      4             uint32 t      Subsequent 2 fields data
                                               length

  SESSION ID       2             uint16 t      The serial number
                                               corresponding to the
                                               platform file upload
                                               message

  TYPE             1             BYTE          0x00: pause; 0x01:
                                               continue; 0x02: Cancel
  ---------------- ------------- ------------- --------------------------

**10. 5. 6 Remote video download control request response message**

Link Type: Main Link\
Message direction: enterprise video surveillance platform to government
video supervision platform\
Sub-Business Type Identifier:UP DOWNLOAD MSG CONTROL ACK。

Description: The response message of the enterprise video surveillance
platform to the download control request sent by the government video
surveillance platform. Data body see Table 60.

**Table 60 Remote video download control request response data body**

  ---------------- ------------- ------------- --------------------------
  **Field name**   **Bit No.**   **Data Type** **Description & request**

  VEHICLE NO       21            Octet String  License Plate Number

  VEHICLE COLOR    1             BYTE          License plate color, as
                                               specified in 5.4.12 of
                                               JT/T 415-2006

  DATA TYPE        2             uint16 t      Sub-Business Type
                                               Identifier

  DATA LENGTH      4             uint32 t      Subsequent 1 fields data
                                               length

  RESULT           1             BYTE          Response result: 0x00:
                                               success; 0x01: failed;\
                                               0x02: not supported;\
                                               0x03: Session ended
  ---------------- ------------- ------------- --------------------------

**Appendix A ( normative appendix)**

Message comparison table between video terminal and video platform\
The message comparison table of the communication protocol between the
video terminal and the video platform is shown in Table A.1.

**Table A. 1 Message comparison table between video terminal and video
platform**

  --------- -------------------- ----------- --------- -------------------- -----------
  **No.**   **Message body       **Message   **No.**   **Message body       **Message
            name**               ID**                  name**               ID**

  1         Query terminal audio 9003        12        file upload          9206
            and video attributes                       instruction          

  2         Terminal upload      1003        13        File upload          1206
            audio and video                            completion           
            attributes                                 notification         

  3         Real-time audio and  9101        14        File upload control  9207
            video transmission                                              
            request                                                         

  4         Terminal upload      1005        15        PTZ rotation         9301
            passenger traffic                                               

  5         Audio and video      9102        16        PTZ adjustment focus 9302
            real-time                                  control              
            transmission control                                            

  6         Real-time audio and              17        Gimbal Adjustment    9303
            video streaming and                        Aperture Control     
            transparent data                                                
            transmission                                                    

  7         Real-time audio and  9105        18        PTZ wiper control    9304
            video transmission                                              
            status notification                                             

  8         Query resource list  9205        19        Infrared fill light  9305
                                                       control              

  9         List of audio and    1205        20        PTZ zoom control     9306
            video resources                                                 
            uploaded by the                                                 
            terminal                                                        

  10        The platform issues  9201        21        Platform Manual      WAKEUPX X
            a remote video                             Wakeup Request       
            playback request                           (Short Message)      

  11        Remote video         9202                                       
            playback control                                                
            issued by the                                                   
            platform                                                        
  --------- -------------------- ----------- --------- -------------------- -----------

![page58image4033584.png](media/image4.png){width="1.4583333333333333in"
height="1.3888888888888888e-2in"}
